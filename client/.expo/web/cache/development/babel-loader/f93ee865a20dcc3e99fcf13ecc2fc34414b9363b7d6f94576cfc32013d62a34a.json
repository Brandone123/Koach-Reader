{"ast":null,"code":"var _jsxFileName = \"D:\\\\All_Projects\\\\Koach-Reader\\\\client\\\\src\\\\screens\\\\OnboardingScreen.tsx\";\nimport React, { useState, useRef } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Button from \"react-native-paper/lib/module/components/Button/Button\";\nimport Chip from \"react-native-paper/lib/module/components/Chip/Chip\";\nimport ProgressBar from \"react-native-paper/lib/module/components/ProgressBar\";\nimport { Title } from \"react-native-paper/lib/module/components/Typography/v2\";\nimport { Paragraph } from \"react-native-paper/lib/module/components/Typography/v2\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { useNavigation } from '@react-navigation/native';\nimport { useAuth } from '../hooks/useAuth';\nimport { useTranslation } from 'react-i18next';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  width,\n  height\n} = Dimensions.get('window');\nconst colors = {\n  primary: '#8A2BE2',\n  secondary: '#4B0082',\n  textPrimary: '#FFFFFF',\n  textSecondary: 'rgba(255,255,255,0.8)',\n  background: '#FFFFFF',\n  chipBackground: '#F0F0F0',\n  chipSelected: '#8A2BE2',\n  chipTextNormal: '#333',\n  chipTextSelected: '#FFFFFF'\n};\nconst ChipSelectionGroup = ({\n  options,\n  selectedValues,\n  onSelect,\n  multiSelect = true\n}) => {\n  return _jsxDEV(View, {\n    style: styles.chipContainer,\n    children: options.map(option => _jsxDEV(TouchableOpacity, {\n      onPress: () => onSelect(option.value),\n      children: _jsxDEV(Chip, {\n        style: [styles.chip, selectedValues.includes(option.value) && styles.selectedChip],\n        textStyle: [styles.chipText, selectedValues.includes(option.value) && styles.selectedChipText],\n        mode: selectedValues.includes(option.value) ? 'flat' : 'outlined',\n        children: [_jsxDEV(Text, {\n          style: styles.chipIcon,\n          children: option.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 13\n        }, this), \" \", option.label]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)\n    }, option.value, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n};\nconst OnboardingScreen = () => {\n  const navigation = useNavigation();\n  const {\n    updateOnboardingStatus,\n    forceCompleteOnboarding\n  } = useAuth();\n  const scrollViewRef = useRef(null);\n  const [currentStep, setCurrentStep] = useState(0);\n  const fadeAnim = useRef(new Animated.Value(1)).current;\n  const {\n    t\n  } = useTranslation();\n  const [readingFrequency, setReadingFrequency] = useState([]);\n  const [ageGroup, setAgeGroup] = useState([]);\n  const [favoriteCategories, setFavoriteCategories] = useState([]);\n  const [discoverySources, setDiscoverySources] = useState([]);\n  const totalSteps = 4;\n  const handleNext = () => {\n    if (currentStep < totalSteps - 1) {\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: 300,\n        useNativeDriver: true\n      }).start(() => {\n        setCurrentStep(currentStep + 1);\n        scrollViewRef.current?.scrollTo({\n          x: width * (currentStep + 1),\n          animated: false\n        });\n        Animated.timing(fadeAnim, {\n          toValue: 1,\n          duration: 300,\n          useNativeDriver: true\n        }).start();\n      });\n    } else {\n      const preferences = {\n        readingFrequency: readingFrequency[0],\n        ageGroup: ageGroup[0],\n        favoriteCategories,\n        discoverySources\n      };\n      console.log('Completing onboarding with preferences:', preferences);\n      navigation.reset({\n        index: 0,\n        routes: [{\n          name: 'Home'\n        }]\n      });\n    }\n  };\n  const handleBack = () => {\n    if (currentStep > 0) {\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: 300,\n        useNativeDriver: true\n      }).start(() => {\n        setCurrentStep(currentStep - 1);\n        scrollViewRef.current?.scrollTo({\n          x: width * (currentStep - 1),\n          animated: false\n        });\n        Animated.timing(fadeAnim, {\n          toValue: 1,\n          duration: 300,\n          useNativeDriver: true\n        }).start();\n      });\n    }\n  };\n  const handleFrequencySelect = value => {\n    setReadingFrequency([value]);\n  };\n  const handleAgeGroupSelect = value => {\n    setAgeGroup([value]);\n  };\n  const handleCategorySelect = value => {\n    if (favoriteCategories.includes(value)) {\n      setFavoriteCategories(favoriteCategories.filter(category => category !== value));\n    } else {\n      setFavoriteCategories([...favoriteCategories, value]);\n    }\n  };\n  const handleDiscoverySourceSelect = value => {\n    if (discoverySources.includes(value)) {\n      setDiscoverySources(discoverySources.filter(source => source !== value));\n    } else {\n      setDiscoverySources([...discoverySources, value]);\n    }\n  };\n  const getStepValidation = step => {\n    switch (step) {\n      case 0:\n        return readingFrequency.length > 0;\n      case 1:\n        return ageGroup.length > 0;\n      case 2:\n        return favoriteCategories.length > 0;\n      case 3:\n        return discoverySources.length > 0;\n      default:\n        return false;\n    }\n  };\n  const getStepTitle = () => {\n    switch (currentStep) {\n      case 0:\n        return t('onboarding.howOftenRead');\n      case 1:\n        return t('onboarding.ageGroup');\n      case 2:\n        return t('onboarding.bookTypes');\n      case 3:\n        return t('onboarding.bookDiscovery');\n      default:\n        return \"\";\n    }\n  };\n  const getStepDescription = () => {\n    switch (currentStep) {\n      case 0:\n        return t('onboarding.readingHabits');\n      case 1:\n        return t('onboarding.ageAppropriate');\n      case 2:\n        return t('onboarding.selectCategories');\n      case 3:\n        return t('onboarding.enhanceDiscovery');\n      default:\n        return \"\";\n    }\n  };\n  const bookCategories = [{\n    label: t('categories.bibleStudies'),\n    value: 'bible_studies',\n    icon: '📖'\n  }, {\n    label: t('categories.theology'),\n    value: 'theology',\n    icon: '✝️'\n  }, {\n    label: t('categories.spirituality'),\n    value: 'spirituality',\n    icon: '🙏'\n  }, {\n    label: t('categories.jesus'),\n    value: 'jesus',\n    icon: '👑'\n  }, {\n    label: t('categories.evangelism'),\n    value: 'evangelism',\n    icon: '🌍'\n  }, {\n    label: t('categories.marriageFamily'),\n    value: 'marriage_family',\n    icon: '👨‍👩‍👧‍👦'\n  }, {\n    label: t('categories.youth'),\n    value: 'youth',\n    icon: '👶'\n  }, {\n    label: t('categories.testimonies'),\n    value: 'testimonies',\n    icon: '📚'\n  }, {\n    label: t('categories.prophecy'),\n    value: 'prophecy',\n    icon: '⏳'\n  }, {\n    label: t('categories.ethics'),\n    value: 'ethics',\n    icon: '⚖️'\n  }, {\n    label: t('categories.healing'),\n    value: 'healing',\n    icon: '🌟'\n  }, {\n    label: t('categories.ministry'),\n    value: 'ministry',\n    icon: '👥'\n  }, {\n    label: t('categories.worship'),\n    value: 'worship',\n    icon: '🎵'\n  }, {\n    label: t('categories.fiction'),\n    value: 'fiction',\n    icon: '📕'\n  }, {\n    label: t('categories.churchHistory'),\n    value: 'church_history',\n    icon: '⛪'\n  }, {\n    label: t('categories.encouragement'),\n    value: 'encouragement',\n    icon: '💪'\n  }];\n  const readingFrequencies = [{\n    label: t('settings.daily'),\n    value: 'daily',\n    icon: '📚'\n  }, {\n    label: t('onboarding.fewWeekly'),\n    value: 'few_weekly',\n    icon: '📖'\n  }, {\n    label: t('settings.weekly'),\n    value: 'weekly',\n    icon: '📅'\n  }, {\n    label: t('settings.monthly'),\n    value: 'monthly',\n    icon: '📆'\n  }, {\n    label: t('onboarding.occasionally'),\n    value: 'occasionally',\n    icon: '🔍'\n  }];\n  const ageGroups = [{\n    label: t('onboarding.under18'),\n    value: 'under_18',\n    icon: '👶'\n  }, {\n    label: t('onboarding.18to24'),\n    value: '18-24',\n    icon: '🧑'\n  }, {\n    label: t('onboarding.25to34'),\n    value: '25-34',\n    icon: '👨'\n  }, {\n    label: t('onboarding.35to44'),\n    value: '35-44',\n    icon: '👩'\n  }, {\n    label: t('onboarding.45plus'),\n    value: '45_plus',\n    icon: '👴'\n  }];\n  const sourceOptions = [{\n    label: t('onboarding.friends'),\n    value: 'friends',\n    icon: '👥'\n  }, {\n    label: t('onboarding.socialMedia'),\n    value: 'social_media',\n    icon: '📱'\n  }, {\n    label: t('onboarding.bookstores'),\n    value: 'bookstores',\n    icon: '🏪'\n  }, {\n    label: t('onboarding.onlineReviews'),\n    value: 'online_reviews',\n    icon: '⭐'\n  }, {\n    label: t('onboarding.bookClubs'),\n    value: 'book_clubs',\n    icon: '👋'\n  }, {\n    label: t('onboarding.recommendations'),\n    value: 'recommendations',\n    icon: '👍'\n  }];\n  const renderContent = () => {\n    switch (currentStep) {\n      case 0:\n        return _jsxDEV(ScrollView, {\n          style: styles.optionsScrollView,\n          children: _jsxDEV(ChipSelectionGroup, {\n            options: readingFrequencies,\n            selectedValues: readingFrequency,\n            onSelect: handleFrequencySelect,\n            multiSelect: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 261,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 260,\n          columnNumber: 11\n        }, this);\n      case 1:\n        return _jsxDEV(ScrollView, {\n          style: styles.optionsScrollView,\n          children: _jsxDEV(ChipSelectionGroup, {\n            options: ageGroups,\n            selectedValues: ageGroup,\n            onSelect: handleAgeGroupSelect,\n            multiSelect: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this);\n      case 2:\n        return _jsxDEV(ScrollView, {\n          style: styles.optionsScrollView,\n          children: _jsxDEV(ChipSelectionGroup, {\n            options: bookCategories,\n            selectedValues: favoriteCategories,\n            onSelect: handleCategorySelect\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this);\n      case 3:\n        return _jsxDEV(ScrollView, {\n          style: styles.optionsScrollView,\n          children: _jsxDEV(ChipSelectionGroup, {\n            options: sourceOptions,\n            selectedValues: discoverySources,\n            onSelect: handleDiscoverySourceSelect\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 293,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 292,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return _jsxDEV(SafeAreaView, {\n    style: styles.container,\n    children: _jsxDEV(LinearGradient, {\n      colors: ['#8A2BE2', '#4B0082'],\n      style: styles.gradient,\n      children: [_jsxDEV(View, {\n        style: styles.progressContainer,\n        children: [_jsxDEV(Text, {\n          style: styles.stepIndicator,\n          children: [\"Step \", currentStep + 1, \" of \", totalSteps]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 312,\n          columnNumber: 11\n        }, this), _jsxDEV(ProgressBar, {\n          progress: (currentStep + 1) / totalSteps,\n          color: \"#FFF\",\n          style: styles.progressBar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 313,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 9\n      }, this), _jsxDEV(Animated.View, {\n        style: [styles.contentContainer, {\n          opacity: fadeAnim\n        }],\n        children: [_jsxDEV(View, {\n          style: styles.questionContainer,\n          children: [_jsxDEV(Title, {\n            style: styles.questionTitle,\n            children: getStepTitle()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 324,\n            columnNumber: 13\n          }, this), _jsxDEV(Paragraph, {\n            style: styles.questionDescription,\n            children: getStepDescription()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 323,\n          columnNumber: 11\n        }, this), _jsxDEV(View, {\n          style: styles.selectionContainer,\n          children: renderContent()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 328,\n          columnNumber: 11\n        }, this), _jsxDEV(View, {\n          style: styles.footer,\n          children: _jsxDEV(View, {\n            style: styles.buttonContainer,\n            children: [currentStep > 0 && _jsxDEV(Button, {\n              mode: \"text\",\n              onPress: handleBack,\n              style: styles.button,\n              color: colors.textSecondary,\n              children: t('common.previous')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 335,\n              columnNumber: 17\n            }, this), _jsxDEV(Button, {\n              mode: \"contained\",\n              onPress: handleNext,\n              style: [styles.button, styles.primaryButton],\n              disabled: !getStepValidation(currentStep),\n              children: currentStep < totalSteps - 1 ? t('common.next') : t('common.finish')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 344,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 333,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 332,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 307,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 306,\n    columnNumber: 5\n  }, this);\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#FFF'\n  },\n  gradient: {\n    flex: 1,\n    justifyContent: 'space-between'\n  },\n  progressContainer: {\n    paddingHorizontal: 20,\n    paddingTop: 20\n  },\n  stepIndicator: {\n    color: 'rgba(255,255,255,0.8)',\n    marginBottom: 10,\n    fontSize: 16,\n    textAlign: 'center'\n  },\n  progressBar: {\n    height: 6,\n    borderRadius: 3,\n    backgroundColor: 'rgba(255,255,255,0.3)'\n  },\n  contentContainer: {\n    flex: 1,\n    padding: 20,\n    justifyContent: 'space-between'\n  },\n  questionContainer: {\n    marginTop: 40,\n    alignItems: 'center'\n  },\n  questionTitle: {\n    fontSize: 28,\n    fontWeight: 'bold',\n    color: '#FFFFFF',\n    textAlign: 'center',\n    marginBottom: 10\n  },\n  questionDescription: {\n    fontSize: 16,\n    color: 'rgba(255,255,255,0.8)',\n    textAlign: 'center',\n    marginBottom: 40\n  },\n  selectionContainer: {\n    flex: 1,\n    backgroundColor: 'rgba(255,255,255,0.9)',\n    borderRadius: 20,\n    padding: 20,\n    marginBottom: 20\n  },\n  optionsScrollView: {\n    flex: 1\n  },\n  chipContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'center'\n  },\n  chip: {\n    margin: 5,\n    paddingVertical: 8,\n    paddingHorizontal: 12,\n    backgroundColor: '#F0F0F0'\n  },\n  selectedChip: {\n    backgroundColor: '#8A2BE2'\n  },\n  chipText: {\n    color: '#333'\n  },\n  selectedChipText: {\n    color: '#FFFFFF'\n  },\n  chipIcon: {\n    marginRight: 5,\n    fontSize: 16\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 20,\n    marginBottom: Platform.OS === 'ios' ? 40 : 20\n  },\n  buttonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between'\n  },\n  button: {\n    borderColor: '#FFFFFF',\n    borderWidth: 2,\n    borderRadius: 10\n  },\n  primaryButton: {\n    backgroundColor: '#FFFFFF'\n  }\n});\nexport default OnboardingScreen;","map":{"version":3,"names":["React","useState","useRef","View","Text","StyleSheet","Dimensions","ScrollView","TouchableOpacity","SafeAreaView","Animated","Platform","Button","Chip","ProgressBar","Title","Paragraph","LinearGradient","useNavigation","useAuth","useTranslation","jsxDEV","_jsxDEV","width","height","get","colors","primary","secondary","textPrimary","textSecondary","background","chipBackground","chipSelected","chipTextNormal","chipTextSelected","ChipSelectionGroup","options","selectedValues","onSelect","multiSelect","style","styles","chipContainer","children","map","option","onPress","value","chip","includes","selectedChip","textStyle","chipText","selectedChipText","mode","chipIcon","icon","fileName","_jsxFileName","lineNumber","columnNumber","label","OnboardingScreen","navigation","updateOnboardingStatus","forceCompleteOnboarding","scrollViewRef","currentStep","setCurrentStep","fadeAnim","Value","current","t","readingFrequency","setReadingFrequency","ageGroup","setAgeGroup","favoriteCategories","setFavoriteCategories","discoverySources","setDiscoverySources","totalSteps","handleNext","timing","toValue","duration","useNativeDriver","start","scrollTo","x","animated","preferences","console","log","reset","index","routes","name","handleBack","handleFrequencySelect","handleAgeGroupSelect","handleCategorySelect","filter","category","handleDiscoverySourceSelect","source","getStepValidation","step","length","getStepTitle","getStepDescription","bookCategories","readingFrequencies","ageGroups","sourceOptions","renderContent","optionsScrollView","container","gradient","progressContainer","stepIndicator","progress","color","progressBar","contentContainer","opacity","questionContainer","questionTitle","questionDescription","selectionContainer","footer","buttonContainer","button","primaryButton","disabled","create","flex","backgroundColor","justifyContent","paddingHorizontal","paddingTop","marginBottom","fontSize","textAlign","borderRadius","padding","marginTop","alignItems","fontWeight","flexDirection","flexWrap","margin","paddingVertical","marginRight","OS","borderColor","borderWidth"],"sources":["D:/All_Projects/Koach-Reader/client/src/screens/OnboardingScreen.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  Dimensions,\r\n  ScrollView,\r\n  TouchableOpacity,\r\n  Image,\r\n  SafeAreaView,\r\n  Animated,\r\n  Platform,\r\n} from 'react-native';\r\nimport { Button, Chip, ProgressBar, Title, Paragraph, Divider } from 'react-native-paper';\r\nimport { LinearGradient } from 'expo-linear-gradient';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { StackNavigationProp } from '@react-navigation/stack';\r\nimport { RootStackParamList } from '../../App';\r\nimport { useAuth } from '../hooks/useAuth';\r\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport { useDispatch } from 'react-redux';\r\nimport { updatePreferences } from '../slices/authSlice';\r\nimport { useTranslation } from 'react-i18next';\r\n\r\nconst { width, height } = Dimensions.get('window');\r\n\r\n// Colors definition\r\nconst colors = {\r\n  primary: '#8A2BE2',\r\n  secondary: '#4B0082',\r\n  textPrimary: '#FFFFFF',\r\n  textSecondary: 'rgba(255,255,255,0.8)',\r\n  background: '#FFFFFF',\r\n  chipBackground: '#F0F0F0',\r\n  chipSelected: '#8A2BE2',\r\n  chipTextNormal: '#333',\r\n  chipTextSelected: '#FFFFFF',\r\n};\r\n\r\ntype OnboardingNavigationProp = StackNavigationProp<RootStackParamList, 'Onboarding'>;\r\n\r\n// Chip selection component for multiple choice questions\r\nconst ChipSelectionGroup = ({ \r\n  options, \r\n  selectedValues, \r\n  onSelect, \r\n  multiSelect = true \r\n}: { \r\n  options: Array<{ label: string, value: string, icon: string }>, \r\n  selectedValues: string[], \r\n  onSelect: (value: string) => void,\r\n  multiSelect?: boolean\r\n}) => {\r\n  return (\r\n    <View style={styles.chipContainer}>\r\n      {options.map((option) => (\r\n        <TouchableOpacity\r\n          key={option.value}\r\n          onPress={() => onSelect(option.value)}\r\n        >\r\n          <Chip\r\n            style={[\r\n              styles.chip,\r\n              selectedValues.includes(option.value) && styles.selectedChip\r\n            ]}\r\n            textStyle={[\r\n              styles.chipText,\r\n              selectedValues.includes(option.value) && styles.selectedChipText\r\n            ]}\r\n            mode={selectedValues.includes(option.value) ? 'flat' : 'outlined'}\r\n          >\r\n            <Text style={styles.chipIcon}>{option.icon}</Text> {option.label}\r\n          </Chip>\r\n        </TouchableOpacity>\r\n      ))}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst OnboardingScreen = () => {\r\n  const navigation = useNavigation<OnboardingNavigationProp>();\r\n  const { updateOnboardingStatus, forceCompleteOnboarding } = useAuth();\r\n  const scrollViewRef = useRef<ScrollView>(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const fadeAnim = useRef(new Animated.Value(1)).current;\r\n  const { t } = useTranslation();\r\n\r\n  // State for user preferences\r\n  const [readingFrequency, setReadingFrequency] = useState<string[]>([]);\r\n  const [ageGroup, setAgeGroup] = useState<string[]>([]);\r\n  const [favoriteCategories, setFavoriteCategories] = useState<string[]>([]);\r\n  const [discoverySources, setDiscoverySources] = useState<string[]>([]);\r\n\r\n  const totalSteps = 4; // 4 étapes au lieu de 5\r\n\r\n  const handleNext = () => {\r\n    if (currentStep < totalSteps - 1) {\r\n      // Fade out animation\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 0,\r\n        duration: 300,\r\n        useNativeDriver: true,\r\n      }).start(() => {\r\n        setCurrentStep(currentStep + 1);\r\n        // Scroll to the next step\r\n        scrollViewRef.current?.scrollTo({ x: width * (currentStep + 1), animated: false });\r\n        // Fade in animation\r\n        Animated.timing(fadeAnim, {\r\n          toValue: 1,\r\n          duration: 300,\r\n          useNativeDriver: true,\r\n        }).start();\r\n      });\r\n    } else {\r\n      // Complete onboarding - version simplifiée\r\n      const preferences = {\r\n        readingFrequency: readingFrequency[0], // Take first selection for single select\r\n        ageGroup: ageGroup[0], // Take first selection for single select\r\n        favoriteCategories,\r\n        discoverySources,\r\n      };\r\n      \r\n      // Log preferences for debugging but don't use Redux actions\r\n      console.log('Completing onboarding with preferences:', preferences);\r\n      \r\n      // Navigation directe vers Home sans actions supplémentaires\r\n      navigation.reset({\r\n        index: 0,\r\n        routes: [{ name: 'Home' as keyof RootStackParamList }],\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    if (currentStep > 0) {\r\n      // Fade out animation\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 0,\r\n        duration: 300,\r\n        useNativeDriver: true,\r\n      }).start(() => {\r\n        setCurrentStep(currentStep - 1);\r\n        // Scroll to the previous step\r\n        scrollViewRef.current?.scrollTo({ x: width * (currentStep - 1), animated: false });\r\n        // Fade in animation\r\n        Animated.timing(fadeAnim, {\r\n          toValue: 1,\r\n          duration: 300,\r\n          useNativeDriver: true,\r\n        }).start();\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleFrequencySelect = (value: string) => {\r\n    setReadingFrequency([value]); // Single selection\r\n  };\r\n\r\n  const handleAgeGroupSelect = (value: string) => {\r\n    setAgeGroup([value]); // Single selection\r\n  };\r\n\r\n  const handleCategorySelect = (value: string) => {\r\n    // Toggle selection for multiple choices\r\n    if (favoriteCategories.includes(value)) {\r\n      setFavoriteCategories(favoriteCategories.filter(category => category !== value));\r\n    } else {\r\n      setFavoriteCategories([...favoriteCategories, value]);\r\n    }\r\n  };\r\n\r\n  const handleDiscoverySourceSelect = (value: string) => {\r\n    // Toggle selection for multiple choices\r\n    if (discoverySources.includes(value)) {\r\n      setDiscoverySources(discoverySources.filter(source => source !== value));\r\n    } else {\r\n      setDiscoverySources([...discoverySources, value]);\r\n    }\r\n  };\r\n\r\n  const getStepValidation = (step: number): boolean => {\r\n    switch (step) {\r\n      case 0: return readingFrequency.length > 0;\r\n      case 1: return ageGroup.length > 0;\r\n      case 2: return favoriteCategories.length > 0;\r\n      case 3: return discoverySources.length > 0;\r\n      default: return false;\r\n    }\r\n  };\r\n\r\n  const getStepTitle = () => {\r\n    switch (currentStep) {\r\n      case 0: return t('onboarding.howOftenRead');\r\n      case 1: return t('onboarding.ageGroup');\r\n      case 2: return t('onboarding.bookTypes');\r\n      case 3: return t('onboarding.bookDiscovery');\r\n      default: return \"\";\r\n    }\r\n  };\r\n\r\n  const getStepDescription = () => {\r\n    switch (currentStep) {\r\n      case 0: return t('onboarding.readingHabits');\r\n      case 1: return t('onboarding.ageAppropriate');\r\n      case 2: return t('onboarding.selectCategories');\r\n      case 3: return t('onboarding.enhanceDiscovery');\r\n      default: return \"\";\r\n    }\r\n  };\r\n\r\n  // Move these constants inside the component to use the t function\r\n  const bookCategories = [\r\n    { label: t('categories.bibleStudies'), value: 'bible_studies', icon: '📖' },\r\n    { label: t('categories.theology'), value: 'theology', icon: '✝️' },\r\n    { label: t('categories.spirituality'), value: 'spirituality', icon: '🙏' },\r\n    { label: t('categories.jesus'), value: 'jesus', icon: '👑' },\r\n    { label: t('categories.evangelism'), value: 'evangelism', icon: '🌍' },\r\n    { label: t('categories.marriageFamily'), value: 'marriage_family', icon: '👨‍👩‍👧‍👦' },\r\n    { label: t('categories.youth'), value: 'youth', icon: '👶' },\r\n    { label: t('categories.testimonies'), value: 'testimonies', icon: '📚' },\r\n    { label: t('categories.prophecy'), value: 'prophecy', icon: '⏳' },\r\n    { label: t('categories.ethics'), value: 'ethics', icon: '⚖️' },\r\n    { label: t('categories.healing'), value: 'healing', icon: '🌟' },\r\n    { label: t('categories.ministry'), value: 'ministry', icon: '👥' },\r\n    { label: t('categories.worship'), value: 'worship', icon: '🎵' },\r\n    { label: t('categories.fiction'), value: 'fiction', icon: '📕' },\r\n    { label: t('categories.churchHistory'), value: 'church_history', icon: '⛪' },\r\n    { label: t('categories.encouragement'), value: 'encouragement', icon: '💪' },\r\n  ];\r\n\r\n  const readingFrequencies = [\r\n    { label: t('settings.daily'), value: 'daily', icon: '📚' },\r\n    { label: t('onboarding.fewWeekly'), value: 'few_weekly', icon: '📖' },\r\n    { label: t('settings.weekly'), value: 'weekly', icon: '📅' },\r\n    { label: t('settings.monthly'), value: 'monthly', icon: '📆' },\r\n    { label: t('onboarding.occasionally'), value: 'occasionally', icon: '🔍' },\r\n  ];\r\n\r\n  const ageGroups = [\r\n    { label: t('onboarding.under18'), value: 'under_18', icon: '👶' },\r\n    { label: t('onboarding.18to24'), value: '18-24', icon: '🧑' },\r\n    { label: t('onboarding.25to34'), value: '25-34', icon: '👨' },\r\n    { label: t('onboarding.35to44'), value: '35-44', icon: '👩' },\r\n    { label: t('onboarding.45plus'), value: '45_plus', icon: '👴' },\r\n  ];\r\n\r\n  const sourceOptions = [\r\n    { label: t('onboarding.friends'), value: 'friends', icon: '👥' },\r\n    { label: t('onboarding.socialMedia'), value: 'social_media', icon: '📱' },\r\n    { label: t('onboarding.bookstores'), value: 'bookstores', icon: '🏪' },\r\n    { label: t('onboarding.onlineReviews'), value: 'online_reviews', icon: '⭐' },\r\n    { label: t('onboarding.bookClubs'), value: 'book_clubs', icon: '👋' },\r\n    { label: t('onboarding.recommendations'), value: 'recommendations', icon: '👍' },\r\n  ];\r\n\r\n  const renderContent = () => {\r\n    switch (currentStep) {\r\n      case 0:\r\n        return (\r\n          <ScrollView style={styles.optionsScrollView}>\r\n            <ChipSelectionGroup\r\n              options={readingFrequencies}\r\n              selectedValues={readingFrequency}\r\n              onSelect={handleFrequencySelect}\r\n              multiSelect={false}\r\n            />\r\n          </ScrollView>\r\n        );\r\n      case 1:\r\n        return (\r\n          <ScrollView style={styles.optionsScrollView}>\r\n            <ChipSelectionGroup\r\n              options={ageGroups}\r\n              selectedValues={ageGroup}\r\n              onSelect={handleAgeGroupSelect}\r\n              multiSelect={false}\r\n            />\r\n          </ScrollView>\r\n        );\r\n      case 2:\r\n        return (\r\n          <ScrollView style={styles.optionsScrollView}>\r\n            <ChipSelectionGroup\r\n              options={bookCategories}\r\n              selectedValues={favoriteCategories}\r\n              onSelect={handleCategorySelect}\r\n            />\r\n          </ScrollView>\r\n        );\r\n      case 3:\r\n        return (\r\n          <ScrollView style={styles.optionsScrollView}>\r\n            <ChipSelectionGroup\r\n              options={sourceOptions}\r\n              selectedValues={discoverySources}\r\n              onSelect={handleDiscoverySourceSelect}\r\n            />\r\n          </ScrollView>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      <LinearGradient \r\n        colors={['#8A2BE2', '#4B0082']} \r\n        style={styles.gradient}\r\n      >\r\n        <View style={styles.progressContainer}>\r\n          <Text style={styles.stepIndicator}>Step {currentStep + 1} of {totalSteps}</Text>\r\n          <ProgressBar \r\n            progress={(currentStep + 1) / totalSteps} \r\n            color=\"#FFF\" \r\n            style={styles.progressBar} \r\n          />\r\n        </View>\r\n        \r\n        <Animated.View \r\n          style={[styles.contentContainer, { opacity: fadeAnim }]}\r\n        >\r\n          <View style={styles.questionContainer}>\r\n            <Title style={styles.questionTitle}>{getStepTitle()}</Title>\r\n            <Paragraph style={styles.questionDescription}>{getStepDescription()}</Paragraph>\r\n          </View>\r\n          \r\n          <View style={styles.selectionContainer}>\r\n            {renderContent()}\r\n          </View>\r\n          \r\n          <View style={styles.footer}>\r\n            <View style={styles.buttonContainer}>\r\n              {currentStep > 0 && (\r\n                <Button\r\n                  mode=\"text\"\r\n                  onPress={handleBack}\r\n                  style={styles.button}\r\n                  color={colors.textSecondary}\r\n                >\r\n                  {t('common.previous')}\r\n                </Button>\r\n              )}\r\n              <Button\r\n                mode=\"contained\"\r\n                onPress={handleNext}\r\n                style={[styles.button, styles.primaryButton]}\r\n                disabled={!getStepValidation(currentStep)}\r\n              >\r\n                {currentStep < totalSteps - 1 ? t('common.next') : t('common.finish')}\r\n              </Button>\r\n            </View>\r\n          </View>\r\n        </Animated.View>\r\n      </LinearGradient>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#FFF',\r\n  },\r\n  gradient: {\r\n    flex: 1,\r\n    justifyContent: 'space-between',\r\n  },\r\n  progressContainer: {\r\n    paddingHorizontal: 20,\r\n    paddingTop: 20,\r\n  },\r\n  stepIndicator: {\r\n    color: 'rgba(255,255,255,0.8)',\r\n    marginBottom: 10,\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n  },\r\n  progressBar: {\r\n    height: 6,\r\n    borderRadius: 3,\r\n    backgroundColor: 'rgba(255,255,255,0.3)',\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    padding: 20,\r\n    justifyContent: 'space-between',\r\n  },\r\n  questionContainer: {\r\n    marginTop: 40,\r\n    alignItems: 'center',\r\n  },\r\n  questionTitle: {\r\n    fontSize: 28,\r\n    fontWeight: 'bold',\r\n    color: '#FFFFFF',\r\n    textAlign: 'center',\r\n    marginBottom: 10,\r\n  },\r\n  questionDescription: {\r\n    fontSize: 16,\r\n    color: 'rgba(255,255,255,0.8)',\r\n    textAlign: 'center',\r\n    marginBottom: 40,\r\n  },\r\n  selectionContainer: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(255,255,255,0.9)',\r\n    borderRadius: 20,\r\n    padding: 20,\r\n    marginBottom: 20,\r\n  },\r\n  optionsScrollView: {\r\n    flex: 1,\r\n  },\r\n  chipContainer: {\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  chip: {\r\n    margin: 5,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 12,\r\n    backgroundColor: '#F0F0F0',\r\n  },\r\n  selectedChip: {\r\n    backgroundColor: '#8A2BE2',\r\n  },\r\n  chipText: {\r\n    color: '#333',\r\n  },\r\n  selectedChipText: {\r\n    color: '#FFFFFF',\r\n  },\r\n  chipIcon: {\r\n    marginRight: 5,\r\n    fontSize: 16,\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    marginTop: 20,\r\n    marginBottom: Platform.OS === 'ios' ? 40 : 20,\r\n  },\r\n  buttonContainer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n  },\r\n  button: {\r\n    borderColor: '#FFFFFF',\r\n    borderWidth: 2,\r\n    borderRadius: 10,\r\n  },\r\n  primaryButton: {\r\n    backgroundColor: '#FFFFFF',\r\n  },\r\n});\r\n\r\nexport default OnboardingScreen; "],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}