{"ast":null,"code":"var _jsxFileName = \"D:\\\\All_Projects\\\\KoachReadsFinal\\\\client\\\\src\\\\screens\\\\LeaderboardScreen.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport ActivityIndicator from \"react-native-web/dist/exports/ActivityIndicator\";\nimport Modal from \"react-native-web/dist/exports/Modal\";\nimport Card from \"react-native-paper/lib/module/components/Card/Card\";\nimport { Title } from \"react-native-paper/lib/module/components/Typography/v2\";\nimport Button from \"react-native-paper/lib/module/components/Button/Button\";\nimport * as Avatar from \"react-native-paper/lib/module/components/Avatar/Avatar\";\nimport Chip from \"react-native-paper/lib/module/components/Chip/Chip\";\nimport Searchbar from \"react-native-paper/lib/module/components/Searchbar\";\nimport Divider from \"react-native-paper/lib/module/components/Divider\";\nimport Portal from \"react-native-paper/lib/module/components/Portal/Portal\";\nimport Surface from \"react-native-paper/lib/module/components/Surface\";\nimport IconButton from \"react-native-paper/lib/module/components/IconButton/IconButton\";\nimport RadioButton from \"react-native-paper/lib/module/components/RadioButton\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { selectUser } from '../slices/authSlice';\nimport { fetchLeaderboard, selectLeaderboard, selectIsLoading } from '../slices/koachSlice';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst AVATAR_COLORS = ['#6200ee', '#03dac6', '#ff6c00', '#b38dff', '#00bfa5', '#ff5722', '#8e24aa', '#ff4081', '#4caf50', '#2196f3'];\nconst LeaderboardScreen = ({\n  navigation\n}) => {\n  const dispatch = useDispatch();\n  const leaderboard = useSelector(selectLeaderboard);\n  const isLoading = useSelector(selectIsLoading);\n  const currentUser = useSelector(selectUser);\n  const [period, setPeriod] = useState('all-time');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filteredLeaderboard, setFilteredLeaderboard] = useState(leaderboard);\n  const [showFriendsOnly, setShowFriendsOnly] = useState(false);\n  const [sortOption, setSortOption] = useState('points');\n  const [showFiltersModal, setShowFiltersModal] = useState(false);\n  useEffect(() => {\n    dispatch(fetchLeaderboard());\n  }, [dispatch]);\n  useEffect(() => {\n    if (leaderboard && leaderboard.length > 0) {\n      let filtered = [...leaderboard];\n      if (searchQuery) {\n        filtered = filtered.filter(item => item.username.toLowerCase().includes(searchQuery.toLowerCase()));\n      }\n      if (showFriendsOnly) {\n        filtered = filtered.filter(item => item.rank <= 5);\n      }\n      if (sortOption === 'points') {\n        filtered = filtered.sort((a, b) => b.points - a.points);\n      } else if (sortOption === 'streak') {\n        filtered = filtered.sort((a, b) => b.points % 7 - a.points % 7);\n      } else if (sortOption === 'books') {\n        filtered = filtered.sort((a, b) => b.points / 100 - a.points / 100);\n      }\n      setFilteredLeaderboard(filtered);\n    }\n  }, [leaderboard, searchQuery, showFriendsOnly, period, sortOption]);\n  const getUserRank = () => {\n    if (!currentUser || !leaderboard) return null;\n    const userRank = leaderboard.find(item => item.userId === currentUser.id);\n    return userRank;\n  };\n  const renderLeaderboardItem = ({\n    item,\n    index\n  }) => {\n    const isCurrentUser = currentUser && item.userId === currentUser.id;\n    const avatarColor = AVATAR_COLORS[index % AVATAR_COLORS.length];\n    const initials = item.username.substring(0, 2).toUpperCase();\n    return _jsxDEV(Card, {\n      style: [styles.leaderboardCard, isCurrentUser && styles.currentUserCard, index < 3 && styles.topThreeCard],\n      children: _jsxDEV(Card.Content, {\n        style: styles.leaderboardItemContent,\n        children: [_jsxDEV(View, {\n          style: styles.rankContainer,\n          children: index < 3 ? _jsxDEV(Avatar.Icon, {\n            size: 40,\n            icon: index === 0 ? 'crown' : 'star',\n            style: [styles.rankIcon, {\n              backgroundColor: index === 0 ? '#ffd700' : index === 1 ? '#c0c0c0' : '#cd7f32'\n            }]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 133,\n            columnNumber: 15\n          }, this) : _jsxDEV(Avatar.Text, {\n            size: 40,\n            label: item.rank.toString(),\n            style: [styles.rankText, {\n              backgroundColor: '#6200ee'\n            }]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 142,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 131,\n          columnNumber: 11\n        }, this), _jsxDEV(Avatar.Text, {\n          size: 50,\n          label: initials,\n          style: [styles.userAvatar, {\n            backgroundColor: avatarColor\n          }]\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 150,\n          columnNumber: 11\n        }, this), _jsxDEV(View, {\n          style: styles.userInfoContainer,\n          children: [_jsxDEV(Text, {\n            style: [styles.username, isCurrentUser && styles.currentUserText],\n            children: [item.username, isCurrentUser && ' (You)']\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 157,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.pointsContainer,\n            children: [_jsxDEV(Text, {\n              style: styles.pointsValue,\n              children: item.points\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 162,\n              columnNumber: 15\n            }, this), _jsxDEV(Text, {\n              style: styles.pointsLabel,\n              children: \"Koach Points\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 163,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 161,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 11\n        }, this), _jsxDEV(View, {\n          style: styles.actionsContainer,\n          children: !isCurrentUser && _jsxDEV(Button, {\n            mode: \"outlined\",\n            icon: \"account-plus\",\n            style: styles.addFriendButton,\n            compact: true,\n            children: \"Add\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 169,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 130,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 123,\n      columnNumber: 7\n    }, this);\n  };\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: [_jsxDEV(View, {\n      style: styles.header,\n      children: [_jsxDEV(Title, {\n        style: styles.title,\n        children: \"Leaderboard\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: styles.subtitle,\n        children: \"See who's leading the pack!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 188,\n        columnNumber: 9\n      }, this), _jsxDEV(Searchbar, {\n        placeholder: \"Search users\",\n        onChangeText: setSearchQuery,\n        value: searchQuery,\n        style: styles.searchBar\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), _jsxDEV(View, {\n        style: styles.filtersContainer,\n        children: [_jsxDEV(View, {\n          style: styles.periodSelectionContainer,\n          children: [_jsxDEV(TouchableOpacity, {\n            style: [styles.periodButton, period === 'all-time' && styles.activePeriod],\n            onPress: () => setPeriod('all-time'),\n            children: _jsxDEV(Text, {\n              style: [styles.periodText, period === 'all-time' && styles.activePeriodText],\n              children: \"All-time\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 13\n          }, this), _jsxDEV(TouchableOpacity, {\n            style: [styles.periodButton, period === 'monthly' && styles.activePeriod],\n            onPress: () => setPeriod('monthly'),\n            children: _jsxDEV(Text, {\n              style: [styles.periodText, period === 'monthly' && styles.activePeriodText],\n              children: \"Monthly\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 208,\n            columnNumber: 13\n          }, this), _jsxDEV(TouchableOpacity, {\n            style: [styles.periodButton, period === 'weekly' && styles.activePeriod],\n            onPress: () => setPeriod('weekly'),\n            children: _jsxDEV(Text, {\n              style: [styles.periodText, period === 'weekly' && styles.activePeriodText],\n              children: \"Weekly\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 217,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 11\n        }, this), _jsxDEV(View, {\n          style: styles.filterActionsRow,\n          children: [_jsxDEV(Chip, {\n            selected: showFriendsOnly,\n            onPress: () => setShowFriendsOnly(!showFriendsOnly),\n            style: styles.friendsFilterChip,\n            icon: \"account-group\",\n            children: \"Friends Only\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 228,\n            columnNumber: 13\n          }, this), _jsxDEV(IconButton, {\n            icon: \"tune-vertical\",\n            color: \"white\",\n            size: 24,\n            onPress: () => setShowFiltersModal(true),\n            style: styles.filterButton\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 237,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 227,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 197,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }, this), _jsxDEV(Portal, {\n      children: _jsxDEV(Modal, {\n        visible: showFiltersModal,\n        onDismiss: () => setShowFiltersModal(false),\n        contentContainerStyle: styles.modalContainer,\n        children: _jsxDEV(Surface, {\n          style: styles.modalContent,\n          children: [_jsxDEV(View, {\n            style: styles.modalHeader,\n            children: [_jsxDEV(Title, {\n              style: styles.modalTitle,\n              children: \"Advanced Filters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 256,\n              columnNumber: 15\n            }, this), _jsxDEV(IconButton, {\n              icon: \"close\",\n              size: 24,\n              onPress: () => setShowFiltersModal(false)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 257,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 255,\n            columnNumber: 13\n          }, this), _jsxDEV(Divider, {\n            style: styles.modalDivider\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.sortOptionSection,\n            children: [_jsxDEV(Text, {\n              style: styles.modalSectionTitle,\n              children: \"Sort By\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 267,\n              columnNumber: 15\n            }, this), _jsxDEV(RadioButton.Group, {\n              onValueChange: value => setSortOption(value),\n              value: sortOption,\n              children: [_jsxDEV(RadioButton.Item, {\n                label: \"Points (Default)\",\n                value: \"points\",\n                style: styles.radioItem\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 17\n              }, this), _jsxDEV(RadioButton.Item, {\n                label: \"Reading Streak\",\n                value: \"streak\",\n                style: styles.radioItem\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 277,\n                columnNumber: 17\n              }, this), _jsxDEV(RadioButton.Item, {\n                label: \"Books Completed\",\n                value: \"books\",\n                style: styles.radioItem\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 282,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 266,\n            columnNumber: 13\n          }, this), _jsxDEV(Divider, {\n            style: styles.modalDivider\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.modalActions,\n            children: [_jsxDEV(Button, {\n              mode: \"outlined\",\n              onPress: () => {\n                setSortOption('points');\n                setShowFriendsOnly(false);\n                setSearchQuery('');\n                setShowFiltersModal(false);\n              },\n              style: styles.modalButton,\n              children: \"Reset All Filters\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 293,\n              columnNumber: 15\n            }, this), _jsxDEV(Button, {\n              mode: \"contained\",\n              onPress: () => setShowFiltersModal(false),\n              style: styles.modalButton,\n              children: \"Apply\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 306,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 292,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 254,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 248,\n      columnNumber: 7\n    }, this), getUserRank() && _jsxDEV(Card, {\n      style: styles.yourRankCard,\n      children: _jsxDEV(Card.Content, {\n        children: [_jsxDEV(Title, {\n          style: styles.yourRankTitle,\n          children: \"Your Position\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 321,\n          columnNumber: 13\n        }, this), _jsxDEV(View, {\n          style: styles.yourRankContent,\n          children: [_jsxDEV(Avatar.Text, {\n            size: 60,\n            label: getUserRank().rank.toString(),\n            style: styles.yourRankAvatar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 323,\n            columnNumber: 15\n          }, this), _jsxDEV(View, {\n            style: styles.yourRankInfoContainer,\n            children: [_jsxDEV(Text, {\n              style: styles.rankInfoLabel,\n              children: \"Rank\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 329,\n              columnNumber: 17\n            }, this), _jsxDEV(Text, {\n              style: styles.rankInfoValue,\n              children: [\"#\", getUserRank().rank]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 328,\n            columnNumber: 15\n          }, this), _jsxDEV(View, {\n            style: styles.yourRankInfoContainer,\n            children: [_jsxDEV(Text, {\n              style: styles.rankInfoLabel,\n              children: \"Points\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 333,\n              columnNumber: 17\n            }, this), _jsxDEV(Text, {\n              style: styles.rankInfoValue,\n              children: getUserRank().points\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 334,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 332,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 322,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 320,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 319,\n      columnNumber: 9\n    }, this), isLoading ? _jsxDEV(View, {\n      style: styles.loadingContainer,\n      children: [_jsxDEV(ActivityIndicator, {\n        size: \"large\",\n        color: \"#6200ee\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 343,\n        columnNumber: 11\n      }, this), _jsxDEV(Text, {\n        style: styles.loadingText,\n        children: \"Loading leaderboard...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 344,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 342,\n      columnNumber: 9\n    }, this) : filteredLeaderboard.length > 0 ? _jsxDEV(FlatList, {\n      data: filteredLeaderboard,\n      renderItem: renderLeaderboardItem,\n      keyExtractor: item => item.userId.toString(),\n      contentContainerStyle: styles.leaderboardList\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 347,\n      columnNumber: 9\n    }, this) : _jsxDEV(View, {\n      style: styles.emptyContainer,\n      children: [_jsxDEV(Text, {\n        style: styles.emptyText,\n        children: searchQuery ? \"No users matching your search.\" : showFriendsOnly ? \"No friends found. Add some friends to see them here!\" : \"No leaderboard data available.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 355,\n        columnNumber: 11\n      }, this), (searchQuery || showFriendsOnly) && _jsxDEV(Button, {\n        mode: \"outlined\",\n        onPress: () => {\n          setSearchQuery('');\n          setShowFriendsOnly(false);\n        },\n        style: styles.resetButton,\n        children: \"Reset Filters\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 354,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 185,\n    columnNumber: 5\n  }, this);\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5'\n  },\n  header: {\n    backgroundColor: '#6200ee',\n    padding: 24,\n    paddingTop: 36,\n    paddingBottom: 24\n  },\n  title: {\n    color: 'white',\n    fontSize: 24,\n    fontWeight: 'bold'\n  },\n  subtitle: {\n    color: 'rgba(255, 255, 255, 0.8)',\n    marginTop: 4,\n    marginBottom: 16\n  },\n  searchBar: {\n    marginBottom: 16,\n    elevation: 0,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)'\n  },\n  filtersContainer: {\n    marginTop: 8\n  },\n  periodSelectionContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginBottom: 12\n  },\n  periodButton: {\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: 'white'\n  },\n  periodText: {\n    color: 'white'\n  },\n  activePeriod: {\n    backgroundColor: 'white'\n  },\n  activePeriodText: {\n    color: '#6200ee',\n    fontWeight: 'bold'\n  },\n  friendsFilterChip: {\n    alignSelf: 'center',\n    backgroundColor: 'rgba(255, 255, 255, 0.2)'\n  },\n  leaderboardList: {\n    padding: 16,\n    paddingTop: 8\n  },\n  yourRankCard: {\n    margin: 16,\n    marginBottom: 8,\n    borderRadius: 12,\n    elevation: 3\n  },\n  yourRankTitle: {\n    fontSize: 18,\n    marginBottom: 8\n  },\n  yourRankContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-around'\n  },\n  yourRankAvatar: {\n    backgroundColor: '#6200ee'\n  },\n  yourRankInfoContainer: {\n    alignItems: 'center'\n  },\n  rankInfoLabel: {\n    fontSize: 14,\n    color: '#666'\n  },\n  rankInfoValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#6200ee'\n  },\n  leaderboardCard: {\n    marginBottom: 12,\n    borderRadius: 12,\n    elevation: 2\n  },\n  leaderboardItemContent: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  topThreeCard: {\n    borderLeftWidth: 3,\n    borderLeftColor: '#ffd700'\n  },\n  currentUserCard: {\n    backgroundColor: '#f0f0ff',\n    borderLeftWidth: 3,\n    borderLeftColor: '#6200ee'\n  },\n  rankContainer: {\n    marginRight: 12\n  },\n  rankIcon: {\n    marginRight: 8\n  },\n  rankText: {\n    marginRight: 8\n  },\n  userAvatar: {\n    marginRight: 16\n  },\n  userInfoContainer: {\n    flex: 1\n  },\n  username: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 4\n  },\n  currentUserText: {\n    color: '#6200ee'\n  },\n  pointsContainer: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  pointsValue: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#6200ee',\n    marginRight: 4\n  },\n  pointsLabel: {\n    fontSize: 14,\n    color: '#666'\n  },\n  actionsContainer: {\n    marginLeft: 8\n  },\n  addFriendButton: {\n    borderColor: '#6200ee'\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  loadingText: {\n    marginTop: 16,\n    fontSize: 16,\n    color: '#666'\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 24\n  },\n  emptyText: {\n    fontSize: 16,\n    color: '#666',\n    textAlign: 'center',\n    marginBottom: 16\n  },\n  resetButton: {\n    marginTop: 8\n  },\n  filterActionsRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center'\n  },\n  filterButton: {\n    margin: 0\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20\n  },\n  modalContent: {\n    width: '90%',\n    borderRadius: 12,\n    padding: 24,\n    elevation: 5\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 8\n  },\n  modalTitle: {\n    fontSize: 20\n  },\n  modalDivider: {\n    marginVertical: 16\n  },\n  modalSectionTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 8\n  },\n  sortOptionSection: {\n    marginBottom: 16\n  },\n  radioItem: {\n    paddingVertical: 4\n  },\n  modalActions: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    marginTop: 16\n  },\n  modalButton: {\n    marginLeft: 12\n  }\n});\nexport default LeaderboardScreen;","map":{"version":3,"names":["React","useEffect","useState","StyleSheet","View","Text","FlatList","TouchableOpacity","ActivityIndicator","Modal","Card","Title","Button","Avatar","Chip","Searchbar","Divider","Portal","Surface","IconButton","RadioButton","useDispatch","useSelector","selectUser","fetchLeaderboard","selectLeaderboard","selectIsLoading","jsxDEV","_jsxDEV","AVATAR_COLORS","LeaderboardScreen","navigation","dispatch","leaderboard","isLoading","currentUser","period","setPeriod","searchQuery","setSearchQuery","filteredLeaderboard","setFilteredLeaderboard","showFriendsOnly","setShowFriendsOnly","sortOption","setSortOption","showFiltersModal","setShowFiltersModal","length","filtered","filter","item","username","toLowerCase","includes","rank","sort","a","b","points","getUserRank","userRank","find","userId","id","renderLeaderboardItem","index","isCurrentUser","avatarColor","initials","substring","toUpperCase","style","styles","leaderboardCard","currentUserCard","topThreeCard","children","Content","leaderboardItemContent","rankContainer","Icon","size","icon","rankIcon","backgroundColor","fileName","_jsxFileName","lineNumber","columnNumber","label","toString","rankText","userAvatar","userInfoContainer","currentUserText","pointsContainer","pointsValue","pointsLabel","actionsContainer","mode","addFriendButton","compact","container","header","title","subtitle","placeholder","onChangeText","value","searchBar","filtersContainer","periodSelectionContainer","periodButton","activePeriod","onPress","periodText","activePeriodText","filterActionsRow","selected","friendsFilterChip","color","filterButton","visible","onDismiss","contentContainerStyle","modalContainer","modalContent","modalHeader","modalTitle","modalDivider","sortOptionSection","modalSectionTitle","Group","onValueChange","Item","radioItem","modalActions","modalButton","yourRankCard","yourRankTitle","yourRankContent","yourRankAvatar","yourRankInfoContainer","rankInfoLabel","rankInfoValue","loadingContainer","loadingText","data","renderItem","keyExtractor","leaderboardList","emptyContainer","emptyText","resetButton","create","flex","padding","paddingTop","paddingBottom","fontSize","fontWeight","marginTop","marginBottom","elevation","flexDirection","justifyContent","paddingVertical","paddingHorizontal","borderRadius","borderWidth","borderColor","alignSelf","margin","alignItems","borderLeftWidth","borderLeftColor","marginRight","marginLeft","textAlign","width","marginVertical"],"sources":["D:/All_Projects/KoachReadsFinal/client/src/screens/LeaderboardScreen.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport {\n  StyleSheet,\n  View,\n  Text,\n  FlatList,\n  TouchableOpacity,\n  ActivityIndicator,\n  Image,\n  Modal\n} from 'react-native';\nimport {\n  Card,\n  Title,\n  Paragraph,\n  Appbar,\n  Button,\n  Avatar,\n  Chip,\n  Searchbar,\n  Divider,\n  Portal,\n  Surface,\n  IconButton,\n  RadioButton\n} from 'react-native-paper';\nimport { StackNavigationProp } from '@react-navigation/stack';\nimport { RootStackParamList } from '../../App';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { AppDispatch } from '../store';\nimport { selectUser } from '../slices/authSlice';\nimport { fetchApi } from '../utils/api';\nimport { mockFetchApi } from '../utils/mockApi';\nimport { fetchLeaderboard, selectLeaderboard, selectIsLoading } from '../slices/koachSlice';\n\ntype LeaderboardScreenNavigationProp = StackNavigationProp<RootStackParamList, 'Leaderboard'>;\n\ninterface LeaderboardScreenProps {\n  navigation: LeaderboardScreenNavigationProp;\n}\n\nconst AVATAR_COLORS = [\n  '#6200ee', // Primary\n  '#03dac6', // Secondary\n  '#ff6c00', // Orange\n  '#b38dff', // Light purple\n  '#00bfa5', // Teal\n  '#ff5722', // Deep orange\n  '#8e24aa', // Purple\n  '#ff4081', // Pink\n  '#4caf50', // Green\n  '#2196f3', // Blue\n];\n\ntype LeaderboardPeriod = 'all-time' | 'monthly' | 'weekly';\n\nconst LeaderboardScreen: React.FC<LeaderboardScreenProps> = ({ navigation }) => {\n  const dispatch = useDispatch<AppDispatch>();\n  const leaderboard = useSelector(selectLeaderboard);\n  const isLoading = useSelector(selectIsLoading);\n  const currentUser = useSelector(selectUser);\n  \n  const [period, setPeriod] = useState<LeaderboardPeriod>('all-time');\n  const [searchQuery, setSearchQuery] = useState('');\n  const [filteredLeaderboard, setFilteredLeaderboard] = useState(leaderboard);\n  const [showFriendsOnly, setShowFriendsOnly] = useState(false);\n  const [sortOption, setSortOption] = useState<'points' | 'streak' | 'books'>('points');\n  const [showFiltersModal, setShowFiltersModal] = useState(false);\n\n  useEffect(() => {\n    dispatch(fetchLeaderboard());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (leaderboard && leaderboard.length > 0) {\n      let filtered = [...leaderboard];\n      \n      // Apply filters based on period (in a real app, we'd make separate API calls)\n      // Here we're just simulating for demonstration purposes\n      \n      // Apply search filter\n      if (searchQuery) {\n        filtered = filtered.filter(item => \n          item.username.toLowerCase().includes(searchQuery.toLowerCase())\n        );\n      }\n      \n      // Apply friends-only filter (mock implementation)\n      // In a real app, you'd have a list of friends to filter against\n      if (showFriendsOnly) {\n        // For demo, just show top 5 as \"friends\"\n        filtered = filtered.filter(item => item.rank <= 5);\n      }\n\n      // Apply sorting based on selected option\n      if (sortOption === 'points') {\n        filtered = filtered.sort((a, b) => b.points - a.points);\n      } else if (sortOption === 'streak') {\n        // Simulate streak sorting - in a real app, you'd have actual streak data\n        filtered = filtered.sort((a, b) => (b.points % 7) - (a.points % 7));\n      } else if (sortOption === 'books') {\n        // Simulate books completed sorting\n        filtered = filtered.sort((a, b) => (b.points / 100) - (a.points / 100));\n      }\n      \n      setFilteredLeaderboard(filtered);\n    }\n  }, [leaderboard, searchQuery, showFriendsOnly, period, sortOption]);\n\n  const getUserRank = () => {\n    if (!currentUser || !leaderboard) return null;\n    \n    const userRank = leaderboard.find(item => item.userId === currentUser.id);\n    return userRank;\n  };\n\n  const renderLeaderboardItem = ({ item, index }) => {\n    const isCurrentUser = currentUser && item.userId === currentUser.id;\n    const avatarColor = AVATAR_COLORS[index % AVATAR_COLORS.length];\n    const initials = item.username.substring(0, 2).toUpperCase();\n\n    return (\n      <Card \n        style={[\n          styles.leaderboardCard, \n          isCurrentUser && styles.currentUserCard, \n          index < 3 && styles.topThreeCard\n        ]}\n      >\n        <Card.Content style={styles.leaderboardItemContent}>\n          <View style={styles.rankContainer}>\n            {index < 3 ? (\n              <Avatar.Icon \n                size={40} \n                icon={index === 0 ? 'crown' : 'star'} \n                style={[\n                  styles.rankIcon, \n                  { backgroundColor: index === 0 ? '#ffd700' : index === 1 ? '#c0c0c0' : '#cd7f32' }\n                ]} \n              />\n            ) : (\n              <Avatar.Text \n                size={40} \n                label={item.rank.toString()} \n                style={[styles.rankText, { backgroundColor: '#6200ee' }]} \n              />\n            )}\n          </View>\n          \n          <Avatar.Text \n            size={50} \n            label={initials} \n            style={[styles.userAvatar, { backgroundColor: avatarColor }]} \n          />\n          \n          <View style={styles.userInfoContainer}>\n            <Text style={[styles.username, isCurrentUser && styles.currentUserText]}>\n              {item.username}\n              {isCurrentUser && ' (You)'}\n            </Text>\n            <View style={styles.pointsContainer}>\n              <Text style={styles.pointsValue}>{item.points}</Text>\n              <Text style={styles.pointsLabel}>Koach Points</Text>\n            </View>\n          </View>\n          \n          <View style={styles.actionsContainer}>\n            {!isCurrentUser && (\n              <Button \n                mode=\"outlined\" \n                icon=\"account-plus\" \n                style={styles.addFriendButton}\n                compact\n              >\n                Add\n              </Button>\n            )}\n          </View>\n        </Card.Content>\n      </Card>\n    );\n  };\n\n  return (\n    <View style={styles.container}>\n      <View style={styles.header}>\n        <Title style={styles.title}>Leaderboard</Title>\n        <Text style={styles.subtitle}>See who's leading the pack!</Text>\n        \n        <Searchbar\n          placeholder=\"Search users\"\n          onChangeText={setSearchQuery}\n          value={searchQuery}\n          style={styles.searchBar}\n        />\n        \n        <View style={styles.filtersContainer}>\n          <View style={styles.periodSelectionContainer}>\n            <TouchableOpacity\n              style={[styles.periodButton, period === 'all-time' && styles.activePeriod]}\n              onPress={() => setPeriod('all-time')}\n            >\n              <Text style={[styles.periodText, period === 'all-time' && styles.activePeriodText]}>\n                All-time\n              </Text>\n            </TouchableOpacity>\n            \n            <TouchableOpacity\n              style={[styles.periodButton, period === 'monthly' && styles.activePeriod]}\n              onPress={() => setPeriod('monthly')}\n            >\n              <Text style={[styles.periodText, period === 'monthly' && styles.activePeriodText]}>\n                Monthly\n              </Text>\n            </TouchableOpacity>\n            \n            <TouchableOpacity\n              style={[styles.periodButton, period === 'weekly' && styles.activePeriod]}\n              onPress={() => setPeriod('weekly')}\n            >\n              <Text style={[styles.periodText, period === 'weekly' && styles.activePeriodText]}>\n                Weekly\n              </Text>\n            </TouchableOpacity>\n          </View>\n          \n          <View style={styles.filterActionsRow}>\n            <Chip\n              selected={showFriendsOnly}\n              onPress={() => setShowFriendsOnly(!showFriendsOnly)}\n              style={styles.friendsFilterChip}\n              icon=\"account-group\"\n            >\n              Friends Only\n            </Chip>\n            \n            <IconButton\n              icon=\"tune-vertical\"\n              color=\"white\"\n              size={24}\n              onPress={() => setShowFiltersModal(true)}\n              style={styles.filterButton}\n            />\n          </View>\n        </View>\n      </View>\n      \n      <Portal>\n        <Modal\n          visible={showFiltersModal}\n          onDismiss={() => setShowFiltersModal(false)}\n          contentContainerStyle={styles.modalContainer}\n        >\n          <Surface style={styles.modalContent}>\n            <View style={styles.modalHeader}>\n              <Title style={styles.modalTitle}>Advanced Filters</Title>\n              <IconButton \n                icon=\"close\" \n                size={24} \n                onPress={() => setShowFiltersModal(false)} \n              />\n            </View>\n            \n            <Divider style={styles.modalDivider} />\n            \n            <View style={styles.sortOptionSection}>\n              <Text style={styles.modalSectionTitle}>Sort By</Text>\n              <RadioButton.Group \n                onValueChange={value => setSortOption(value as 'points' | 'streak' | 'books')} \n                value={sortOption}\n              >\n                <RadioButton.Item \n                  label=\"Points (Default)\" \n                  value=\"points\" \n                  style={styles.radioItem}\n                />\n                <RadioButton.Item \n                  label=\"Reading Streak\" \n                  value=\"streak\" \n                  style={styles.radioItem}\n                />\n                <RadioButton.Item \n                  label=\"Books Completed\" \n                  value=\"books\" \n                  style={styles.radioItem}\n                />\n              </RadioButton.Group>\n            </View>\n            \n            <Divider style={styles.modalDivider} />\n            \n            <View style={styles.modalActions}>\n              <Button \n                mode=\"outlined\" \n                onPress={() => {\n                  setSortOption('points');\n                  setShowFriendsOnly(false);\n                  setSearchQuery('');\n                  setShowFiltersModal(false);\n                }}\n                style={styles.modalButton}\n              >\n                Reset All Filters\n              </Button>\n              \n              <Button \n                mode=\"contained\" \n                onPress={() => setShowFiltersModal(false)}\n                style={styles.modalButton}\n              >\n                Apply\n              </Button>\n            </View>\n          </Surface>\n        </Modal>\n      </Portal>\n      \n      {getUserRank() && (\n        <Card style={styles.yourRankCard}>\n          <Card.Content>\n            <Title style={styles.yourRankTitle}>Your Position</Title>\n            <View style={styles.yourRankContent}>\n              <Avatar.Text \n                size={60} \n                label={getUserRank().rank.toString()} \n                style={styles.yourRankAvatar} \n              />\n              <View style={styles.yourRankInfoContainer}>\n                <Text style={styles.rankInfoLabel}>Rank</Text>\n                <Text style={styles.rankInfoValue}>#{getUserRank().rank}</Text>\n              </View>\n              <View style={styles.yourRankInfoContainer}>\n                <Text style={styles.rankInfoLabel}>Points</Text>\n                <Text style={styles.rankInfoValue}>{getUserRank().points}</Text>\n              </View>\n            </View>\n          </Card.Content>\n        </Card>\n      )}\n      \n      {isLoading ? (\n        <View style={styles.loadingContainer}>\n          <ActivityIndicator size=\"large\" color=\"#6200ee\" />\n          <Text style={styles.loadingText}>Loading leaderboard...</Text>\n        </View>\n      ) : filteredLeaderboard.length > 0 ? (\n        <FlatList\n          data={filteredLeaderboard}\n          renderItem={renderLeaderboardItem}\n          keyExtractor={item => item.userId.toString()}\n          contentContainerStyle={styles.leaderboardList}\n        />\n      ) : (\n        <View style={styles.emptyContainer}>\n          <Text style={styles.emptyText}>\n            {searchQuery \n              ? \"No users matching your search.\" \n              : showFriendsOnly \n                ? \"No friends found. Add some friends to see them here!\"\n                : \"No leaderboard data available.\"\n            }\n          </Text>\n          {(searchQuery || showFriendsOnly) && (\n            <Button \n              mode=\"outlined\" \n              onPress={() => {\n                setSearchQuery('');\n                setShowFriendsOnly(false);\n              }}\n              style={styles.resetButton}\n            >\n              Reset Filters\n            </Button>\n          )}\n        </View>\n      )}\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f5',\n  },\n  header: {\n    backgroundColor: '#6200ee',\n    padding: 24,\n    paddingTop: 36,\n    paddingBottom: 24,\n  },\n  title: {\n    color: 'white',\n    fontSize: 24,\n    fontWeight: 'bold',\n  },\n  subtitle: {\n    color: 'rgba(255, 255, 255, 0.8)',\n    marginTop: 4,\n    marginBottom: 16,\n  },\n  searchBar: {\n    marginBottom: 16,\n    elevation: 0,\n    backgroundColor: 'rgba(255, 255, 255, 0.9)',\n  },\n  filtersContainer: {\n    marginTop: 8,\n  },\n  periodSelectionContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginBottom: 12,\n  },\n  periodButton: {\n    paddingVertical: 8,\n    paddingHorizontal: 16,\n    borderRadius: 20,\n    borderWidth: 1,\n    borderColor: 'white',\n  },\n  periodText: {\n    color: 'white',\n  },\n  activePeriod: {\n    backgroundColor: 'white',\n  },\n  activePeriodText: {\n    color: '#6200ee',\n    fontWeight: 'bold',\n  },\n  friendsFilterChip: {\n    alignSelf: 'center',\n    backgroundColor: 'rgba(255, 255, 255, 0.2)',\n  },\n  leaderboardList: {\n    padding: 16,\n    paddingTop: 8,\n  },\n  yourRankCard: {\n    margin: 16,\n    marginBottom: 8,\n    borderRadius: 12,\n    elevation: 3,\n  },\n  yourRankTitle: {\n    fontSize: 18,\n    marginBottom: 8,\n  },\n  yourRankContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'space-around',\n  },\n  yourRankAvatar: {\n    backgroundColor: '#6200ee',\n  },\n  yourRankInfoContainer: {\n    alignItems: 'center',\n  },\n  rankInfoLabel: {\n    fontSize: 14,\n    color: '#666',\n  },\n  rankInfoValue: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: '#6200ee',\n  },\n  leaderboardCard: {\n    marginBottom: 12,\n    borderRadius: 12,\n    elevation: 2,\n  },\n  leaderboardItemContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  topThreeCard: {\n    borderLeftWidth: 3,\n    borderLeftColor: '#ffd700',\n  },\n  currentUserCard: {\n    backgroundColor: '#f0f0ff',\n    borderLeftWidth: 3,\n    borderLeftColor: '#6200ee',\n  },\n  rankContainer: {\n    marginRight: 12,\n  },\n  rankIcon: {\n    marginRight: 8,\n  },\n  rankText: {\n    marginRight: 8,\n  },\n  userAvatar: {\n    marginRight: 16,\n  },\n  userInfoContainer: {\n    flex: 1,\n  },\n  username: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 4,\n  },\n  currentUserText: {\n    color: '#6200ee',\n  },\n  pointsContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  pointsValue: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    color: '#6200ee',\n    marginRight: 4,\n  },\n  pointsLabel: {\n    fontSize: 14,\n    color: '#666',\n  },\n  actionsContainer: {\n    marginLeft: 8,\n  },\n  addFriendButton: {\n    borderColor: '#6200ee',\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  loadingText: {\n    marginTop: 16,\n    fontSize: 16,\n    color: '#666',\n  },\n  emptyContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 24,\n  },\n  emptyText: {\n    fontSize: 16,\n    color: '#666',\n    textAlign: 'center',\n    marginBottom: 16,\n  },\n  resetButton: {\n    marginTop: 8,\n  },\n  // Nouveaux styles pour les filtres et la modal\n  filterActionsRow: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n  },\n  filterButton: {\n    margin: 0,\n  },\n  modalContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 20,\n  },\n  modalContent: {\n    width: '90%',\n    borderRadius: 12,\n    padding: 24,\n    elevation: 5,\n  },\n  modalHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  modalTitle: {\n    fontSize: 20,\n  },\n  modalDivider: {\n    marginVertical: 16,\n  },\n  modalSectionTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n    marginBottom: 8,\n  },\n  sortOptionSection: {\n    marginBottom: 16,\n  },\n  radioItem: {\n    paddingVertical: 4,\n  },\n  modalActions: {\n    flexDirection: 'row',\n    justifyContent: 'flex-end',\n    marginTop: 16,\n  },\n  modalButton: {\n    marginLeft: 12,\n  },\n});\n\nexport default LeaderboardScreen;"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}