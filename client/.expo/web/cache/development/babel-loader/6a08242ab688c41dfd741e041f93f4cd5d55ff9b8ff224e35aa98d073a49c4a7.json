{"ast":null,"code":"var _jsxFileName = \"D:\\\\All_Projects\\\\Koach-Reader\\\\client\\\\src\\\\screens\\\\BookDetailScreen.tsx\";\nimport React, { useEffect, useState } from 'react';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport RefreshControl from \"react-native-web/dist/exports/RefreshControl\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport ImageBackground from \"react-native-web/dist/exports/ImageBackground\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport Share from \"react-native-web/dist/exports/Share\";\nimport Card from \"react-native-paper/lib/module/components/Card/Card\";\nimport { Title } from \"react-native-paper/lib/module/components/Typography/v2\";\nimport { Paragraph } from \"react-native-paper/lib/module/components/Typography/v2\";\nimport Button from \"react-native-paper/lib/module/components/Button/Button\";\nimport Chip from \"react-native-paper/lib/module/components/Chip/Chip\";\nimport TextInput from \"react-native-paper/lib/module/components/TextInput/TextInput\";\nimport * as Avatar from \"react-native-paper/lib/module/components/Avatar/Avatar\";\nimport IconButton from \"react-native-paper/lib/module/components/IconButton/IconButton\";\nimport Dialog from \"react-native-paper/lib/module/components/Dialog/Dialog\";\nimport Portal from \"react-native-paper/lib/module/components/Portal/Portal\";\nimport FAB from \"react-native-paper/lib/module/components/FAB\";\nimport { useDispatch, useSelector } from 'react-redux';\nimport { fetchBookById, selectCurrentBook, selectBooksLoading, fetchBookComments, selectBookComments, addBookComment } from '../slices/booksSlice';\nimport { selectReadingPlansLoading, logReadingSession } from '../slices/readingPlansSlice';\nimport { selectUser } from '../slices/authSlice';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { useTranslation } from 'react-i18next';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst {\n  width,\n  height\n} = Dimensions.get('window');\nconst BookDetailScreen = ({\n  navigation,\n  route\n}) => {\n  const {\n    t\n  } = useTranslation();\n  const {\n    bookId\n  } = route.params;\n  const dispatch = useDispatch();\n  const book = useSelector(selectCurrentBook);\n  const user = useSelector(selectUser);\n  const comments = useSelector(selectBookComments);\n  const isLoading = useSelector(selectBooksLoading);\n  const isPlansLoading = useSelector(selectReadingPlansLoading);\n  const [refreshing, setRefreshing] = useState(false);\n  const [commentText, setCommentText] = useState('');\n  const [rating, setRating] = useState(5);\n  const [menuVisible, setMenuVisible] = useState(false);\n  const [logSessionVisible, setLogSessionVisible] = useState(false);\n  const [pagesRead, setPagesRead] = useState('');\n  const [minutesSpent, setMinutesSpent] = useState('');\n  useEffect(() => {\n    if (bookId > 0) {\n      dispatch(fetchBookById(bookId));\n      dispatch(fetchBookComments(bookId));\n    }\n  }, [dispatch, bookId]);\n  const onRefresh = async () => {\n    if (bookId > 0) {\n      setRefreshing(true);\n      await Promise.all([dispatch(fetchBookById(bookId)), dispatch(fetchBookComments(bookId))]);\n      setRefreshing(false);\n    }\n  };\n  const handleSubmitComment = () => {\n    if (commentText.trim() === '') {\n      Alert.alert(t('common.errorText'), t('book.commentRequired'));\n      return;\n    }\n    dispatch(addBookComment({\n      bookId,\n      content: commentText,\n      rating\n    }));\n    setCommentText('');\n    setRating(5);\n  };\n  const handleCreateReadingPlan = () => {\n    if (!book) return;\n    navigation.navigate('ReadingPlan', {\n      bookId: book.id\n    });\n  };\n  const handleLogSession = () => {\n    if (!book) return;\n    const pagesReadNum = parseInt(pagesRead);\n    const minutesSpentNum = parseInt(minutesSpent);\n    if (isNaN(pagesReadNum) || pagesReadNum <= 0) {\n      Alert.alert(t('common.errorText'), t('readingSession.validPagesRequired'));\n      return;\n    }\n    if (isNaN(minutesSpentNum) || minutesSpentNum <= 0) {\n      Alert.alert(t('common.errorText'), t('readingSession.validTimeRequired'));\n      return;\n    }\n    dispatch(logReadingSession({\n      bookId: book.id,\n      pagesRead: pagesReadNum,\n      minutesSpent: minutesSpentNum\n    }));\n    setLogSessionVisible(false);\n    setPagesRead('');\n    setMinutesSpent('');\n    Alert.alert(t('common.success'), t('readingSession.pointsEarned', {\n      count: pagesReadNum\n    }), [{\n      text: t('common.great')\n    }]);\n  };\n  const handleReadBook = () => {\n    if (!book) return;\n    navigation.navigate('MediaViewer', {\n      bookId: book.id,\n      mediaType: 'pdf'\n    });\n  };\n  const handleListenAudio = () => {\n    if (!book) return;\n    navigation.navigate('MediaViewer', {\n      bookId: book.id,\n      mediaType: 'audio'\n    });\n  };\n  const handleShare = async () => {\n    if (!book) return;\n    try {\n      await Share.share({\n        message: t('book.shareMessage', {\n          title: book.title,\n          author: book.author\n        }),\n        title: book.title\n      });\n    } catch (error) {\n      Alert.alert(t('common.errorText'), t('book.shareError'));\n    }\n  };\n  const averageRating = comments.length > 0 ? comments.reduce((acc, comment) => acc + (comment.rating || 0), 0) / comments.length : 0;\n  const formattedRating = averageRating.toFixed(1);\n  const renderComment = ({\n    item\n  }) => _jsxDEV(Card, {\n    style: styles.commentCard,\n    children: _jsxDEV(Card.Content, {\n      children: [_jsxDEV(View, {\n        style: styles.commentHeader,\n        children: [_jsxDEV(Avatar.Text, {\n          size: 40,\n          label: item.username.substring(0, 2).toUpperCase(),\n          style: {\n            marginRight: 12\n          },\n          color: \"#FFFFFF\",\n          theme: {\n            colors: {\n              primary: '#8A2BE2'\n            }\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 11\n        }, this), _jsxDEV(View, {\n          style: styles.commentHeaderText,\n          children: [_jsxDEV(Text, {\n            style: styles.commentUsername,\n            children: item.username\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), _jsxDEV(View, {\n            style: styles.ratingContainer,\n            children: [1, 2, 3, 4, 5].map(star => _jsxDEV(IconButton, {\n              icon: \"star\",\n              size: 14,\n              color: star <= (item.rating || 0) ? '#FFC107' : '#E0E0E0',\n              style: {\n                margin: 0,\n                marginHorizontal: -2\n              }\n            }, star, false, {\n              fileName: _jsxFileName,\n              lineNumber: 204,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), _jsxDEV(Text, {\n          style: styles.commentDate,\n          children: new Date(item.createdAt).toLocaleDateString()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 214,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 192,\n        columnNumber: 9\n      }, this), _jsxDEV(Text, {\n        style: styles.commentContent,\n        children: item.content\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 218,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 191,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 190,\n    columnNumber: 5\n  }, this);\n  if (!book && bookId > 0) {\n    return _jsxDEV(View, {\n      style: styles.loadingContainer,\n      children: _jsxDEV(Text, {\n        children: t('book.loading')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this);\n  }\n  return _jsxDEV(View, {\n    style: styles.container,\n    children: [_jsxDEV(ScrollView, {\n      refreshControl: _jsxDEV(RefreshControl, {\n        refreshing: refreshing,\n        onRefresh: onRefresh\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 235,\n        columnNumber: 11\n      }, this),\n      style: styles.scrollView,\n      showsVerticalScrollIndicator: false,\n      children: book ? _jsxDEV(_Fragment, {\n        children: [_jsxDEV(View, {\n          style: styles.bookHeaderContainer,\n          children: _jsxDEV(ImageBackground, {\n            source: {\n              uri: book.coverImageUrl || 'https://via.placeholder.com/300x450'\n            },\n            style: styles.bookHeaderBackground,\n            blurRadius: 5,\n            children: _jsxDEV(LinearGradient, {\n              colors: ['rgba(0,0,0,0.8)', 'rgba(0,0,0,0.5)', 'rgba(0,0,0,0.8)'],\n              style: styles.gradient,\n              children: _jsxDEV(View, {\n                style: styles.bookHeaderContent,\n                children: [_jsxDEV(Image, {\n                  source: {\n                    uri: book.coverImageUrl || 'https://via.placeholder.com/300x450'\n                  },\n                  style: styles.bookCover\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 256,\n                  columnNumber: 21\n                }, this), _jsxDEV(View, {\n                  style: styles.bookInfoContainer,\n                  children: [_jsxDEV(Text, {\n                    style: styles.bookTitle,\n                    children: book.title\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 261,\n                    columnNumber: 23\n                  }, this), _jsxDEV(Text, {\n                    style: styles.bookAuthor,\n                    children: [t('common.author'), \" \", book.author]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 262,\n                    columnNumber: 23\n                  }, this), _jsxDEV(View, {\n                    style: styles.ratingOverview,\n                    children: [_jsxDEV(View, {\n                      style: styles.ratingStars,\n                      children: [1, 2, 3, 4, 5].map(star => _jsxDEV(IconButton, {\n                        icon: \"star\",\n                        size: 16,\n                        color: star <= Math.round(averageRating) ? '#FFC107' : '#E0E0E0',\n                        style: {\n                          margin: 0,\n                          marginHorizontal: -4\n                        }\n                      }, star, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 267,\n                        columnNumber: 29\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 265,\n                      columnNumber: 25\n                    }, this), _jsxDEV(Text, {\n                      style: styles.ratingValue,\n                      children: [formattedRating, \" / 5.0\"]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 276,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 264,\n                    columnNumber: 23\n                  }, this), _jsxDEV(View, {\n                    style: styles.chipContainer,\n                    children: [_jsxDEV(Chip, {\n                      style: styles.chip,\n                      textStyle: styles.chipText,\n                      children: book.category\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 280,\n                      columnNumber: 25\n                    }, this), _jsxDEV(Chip, {\n                      style: styles.chip,\n                      textStyle: styles.chipText,\n                      children: [book.pageCount, \" \", t('book.pages')]\n                    }, void 0, true, {\n                      fileName: _jsxFileName,\n                      lineNumber: 281,\n                      columnNumber: 25\n                    }, this), _jsxDEV(Chip, {\n                      style: styles.chip,\n                      textStyle: styles.chipText,\n                      children: book.language\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 282,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 279,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 260,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 255,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 251,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 246,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 245,\n          columnNumber: 13\n        }, this), _jsxDEV(View, {\n          style: styles.contentContainer,\n          children: [_jsxDEV(View, {\n            style: styles.actionButtonContainer,\n            children: [_jsxDEV(Button, {\n              mode: \"contained\",\n              onPress: handleReadBook,\n              style: [styles.actionButton, {\n                backgroundColor: '#8A2BE2'\n              }],\n              icon: \"book-open-page-variant\",\n              children: t('book.read')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 17\n            }, this), _jsxDEV(Button, {\n              mode: \"contained\",\n              onPress: handleListenAudio,\n              style: [styles.actionButton, {\n                backgroundColor: '#FF6B6B'\n              }],\n              icon: \"headphones\",\n              children: t('book.listen')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 300,\n              columnNumber: 17\n            }, this), _jsxDEV(Button, {\n              mode: \"contained\",\n              onPress: () => setLogSessionVisible(true),\n              style: [styles.actionButton, {\n                backgroundColor: '#00CEC9'\n              }],\n              icon: \"pen\",\n              children: t('readingSession.logReading')\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 308,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 15\n          }, this), _jsxDEV(Card, {\n            style: styles.descriptionCard,\n            children: _jsxDEV(Card.Content, {\n              children: [_jsxDEV(Title, {\n                style: styles.sectionTitle,\n                children: t('book.description')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 19\n              }, this), _jsxDEV(Paragraph, {\n                style: styles.description,\n                children: book.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 319,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 318,\n            columnNumber: 15\n          }, this), _jsxDEV(Title, {\n            style: [styles.sectionTitle, {\n              marginTop: 16,\n              marginHorizontal: 16\n            }],\n            children: t('book.reviewsComments', {\n              count: comments.length\n            })\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 325,\n            columnNumber: 15\n          }, this), _jsxDEV(Card, {\n            style: styles.addCommentCard,\n            children: _jsxDEV(Card.Content, {\n              children: [_jsxDEV(Title, {\n                style: styles.addCommentTitle,\n                children: t('book.addYourReview')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 331,\n                columnNumber: 19\n              }, this), _jsxDEV(View, {\n                style: styles.ratingSelector,\n                children: [_jsxDEV(Text, {\n                  style: styles.ratingLabel,\n                  children: [t('book.yourRating'), \":\"]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 333,\n                  columnNumber: 21\n                }, this), _jsxDEV(View, {\n                  style: styles.stars,\n                  children: [1, 2, 3, 4, 5].map(star => _jsxDEV(IconButton, {\n                    icon: \"star\",\n                    size: 24,\n                    color: star <= rating ? '#FFC107' : '#E0E0E0',\n                    onPress: () => setRating(star)\n                  }, star, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 336,\n                    columnNumber: 25\n                  }, this))\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 332,\n                columnNumber: 19\n              }, this), _jsxDEV(TextInput, {\n                label: t('book.yourComment'),\n                value: commentText,\n                onChangeText: setCommentText,\n                multiline: true,\n                numberOfLines: 3,\n                style: styles.commentInput,\n                theme: {\n                  colors: {\n                    primary: '#8A2BE2'\n                  }\n                }\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 347,\n                columnNumber: 19\n              }, this), _jsxDEV(Button, {\n                mode: \"contained\",\n                onPress: handleSubmitComment,\n                style: styles.submitCommentButton,\n                icon: \"send\",\n                color: \"#8A2BE2\",\n                children: t('common.submit')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 357,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 330,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 329,\n            columnNumber: 15\n          }, this), comments.length > 0 ? _jsxDEV(FlatList, {\n            data: comments,\n            renderItem: renderComment,\n            keyExtractor: item => item.id.toString(),\n            contentContainerStyle: styles.commentsList,\n            scrollEnabled: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 370,\n            columnNumber: 17\n          }, this) : _jsxDEV(Card, {\n            style: styles.emptyCommentsCard,\n            children: _jsxDEV(Card.Content, {\n              children: _jsxDEV(Text, {\n                style: styles.emptyCommentsText,\n                children: t('book.beFirstToComment')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 380,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 379,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 378,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 290,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true) : null\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 233,\n      columnNumber: 7\n    }, this), _jsxDEV(FAB.Group, {\n      open: menuVisible,\n      icon: menuVisible ? 'close' : 'dots-vertical',\n      actions: [{\n        icon: 'share',\n        label: t('book.share'),\n        onPress: handleShare\n      }, {\n        icon: 'notebook',\n        label: t('readingPlan.create'),\n        onPress: handleCreateReadingPlan\n      }],\n      onStateChange: ({\n        open\n      }) => setMenuVisible(open),\n      color: \"white\",\n      fabStyle: {\n        backgroundColor: '#8A2BE2'\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 391,\n      columnNumber: 7\n    }, this), _jsxDEV(Portal, {\n      children: _jsxDEV(Dialog, {\n        visible: logSessionVisible,\n        onDismiss: () => setLogSessionVisible(false),\n        children: [_jsxDEV(Dialog.Title, {\n          children: t('readingSession.title')\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 416,\n          columnNumber: 11\n        }, this), _jsxDEV(Dialog.Content, {\n          children: [_jsxDEV(TextInput, {\n            label: t('readingSession.pagesRead'),\n            value: pagesRead,\n            onChangeText: setPagesRead,\n            keyboardType: \"numeric\",\n            style: styles.sessionInput,\n            theme: {\n              colors: {\n                primary: '#8A2BE2'\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 418,\n            columnNumber: 13\n          }, this), _jsxDEV(TextInput, {\n            label: t('readingSession.timeSpent'),\n            value: minutesSpent,\n            onChangeText: setMinutesSpent,\n            keyboardType: \"numeric\",\n            style: styles.sessionInput,\n            theme: {\n              colors: {\n                primary: '#8A2BE2'\n              }\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 426,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 417,\n          columnNumber: 11\n        }, this), _jsxDEV(Dialog.Actions, {\n          children: [_jsxDEV(Button, {\n            onPress: () => setLogSessionVisible(false),\n            children: t('common.cancel')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 436,\n            columnNumber: 13\n          }, this), _jsxDEV(Button, {\n            onPress: handleLogSession,\n            children: t('common.save')\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 437,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 435,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 412,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 411,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 232,\n    columnNumber: 5\n  }, this);\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f7'\n  },\n  scrollView: {\n    flex: 1,\n    paddingBottom: 80\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  bookHeaderContainer: {\n    height: 280,\n    width: '100%'\n  },\n  bookHeaderBackground: {\n    width: '100%',\n    height: '100%'\n  },\n  gradient: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 16\n  },\n  bookHeaderContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    width: '100%'\n  },\n  bookCover: {\n    width: 120,\n    height: 180,\n    borderRadius: 8\n  },\n  bookInfoContainer: {\n    flex: 1,\n    paddingLeft: 16\n  },\n  bookTitle: {\n    fontSize: 22,\n    fontWeight: 'bold',\n    color: 'white',\n    marginBottom: 4\n  },\n  bookAuthor: {\n    fontSize: 16,\n    color: 'rgba(255,255,255,0.8)',\n    marginBottom: 8\n  },\n  ratingOverview: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 8\n  },\n  ratingStars: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  ratingValue: {\n    fontSize: 14,\n    color: 'white',\n    marginLeft: 8\n  },\n  chipContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginTop: 8\n  },\n  chip: {\n    marginRight: 8,\n    marginBottom: 8,\n    backgroundColor: 'rgba(255,255,255,0.2)'\n  },\n  chipText: {\n    color: 'white'\n  },\n  contentContainer: {\n    flex: 1,\n    paddingVertical: 16\n  },\n  actionButtonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginVertical: 8,\n    paddingHorizontal: 16\n  },\n  actionButton: {\n    flex: 1,\n    marginHorizontal: 4\n  },\n  descriptionCard: {\n    marginHorizontal: 16,\n    marginTop: 16,\n    elevation: 2,\n    borderRadius: 8\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 8\n  },\n  description: {\n    lineHeight: 22\n  },\n  addCommentCard: {\n    marginHorizontal: 16,\n    marginTop: 16,\n    elevation: 2,\n    borderRadius: 8\n  },\n  addCommentTitle: {\n    fontSize: 16,\n    fontWeight: 'bold'\n  },\n  ratingSelector: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginVertical: 8\n  },\n  ratingLabel: {\n    marginRight: 8,\n    fontSize: 14\n  },\n  stars: {\n    flexDirection: 'row'\n  },\n  commentInput: {\n    marginVertical: 8,\n    backgroundColor: 'white'\n  },\n  submitCommentButton: {\n    marginTop: 8,\n    alignSelf: 'flex-end'\n  },\n  commentsList: {\n    paddingHorizontal: 16,\n    paddingTop: 8,\n    paddingBottom: 24\n  },\n  commentCard: {\n    marginBottom: 12,\n    elevation: 1,\n    borderRadius: 8\n  },\n  commentHeader: {\n    flexDirection: 'row',\n    marginBottom: 8\n  },\n  commentHeaderText: {\n    flex: 1\n  },\n  commentUsername: {\n    fontWeight: 'bold',\n    fontSize: 14\n  },\n  ratingContainer: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  commentDate: {\n    fontSize: 12,\n    color: '#888'\n  },\n  commentContent: {\n    fontSize: 14,\n    lineHeight: 20\n  },\n  emptyCommentsCard: {\n    marginHorizontal: 16,\n    marginTop: 16,\n    padding: 16,\n    borderRadius: 8\n  },\n  emptyCommentsText: {\n    textAlign: 'center',\n    fontSize: 14,\n    color: '#666'\n  },\n  sessionInput: {\n    marginVertical: 8,\n    backgroundColor: 'white'\n  }\n});\nexport default BookDetailScreen;","map":{"version":3,"names":["React","useEffect","useState","StyleSheet","View","Text","ScrollView","RefreshControl","FlatList","Alert","Image","ImageBackground","Dimensions","Share","Card","Title","Paragraph","Button","Chip","TextInput","Avatar","IconButton","Dialog","Portal","FAB","useDispatch","useSelector","fetchBookById","selectCurrentBook","selectBooksLoading","fetchBookComments","selectBookComments","addBookComment","selectReadingPlansLoading","logReadingSession","selectUser","LinearGradient","useTranslation","jsxDEV","_jsxDEV","Fragment","_Fragment","width","height","get","BookDetailScreen","navigation","route","t","bookId","params","dispatch","book","user","comments","isLoading","isPlansLoading","refreshing","setRefreshing","commentText","setCommentText","rating","setRating","menuVisible","setMenuVisible","logSessionVisible","setLogSessionVisible","pagesRead","setPagesRead","minutesSpent","setMinutesSpent","onRefresh","Promise","all","handleSubmitComment","trim","alert","content","handleCreateReadingPlan","navigate","id","handleLogSession","pagesReadNum","parseInt","minutesSpentNum","isNaN","count","text","handleReadBook","mediaType","handleListenAudio","handleShare","share","message","title","author","error","averageRating","length","reduce","acc","comment","formattedRating","toFixed","renderComment","item","style","styles","commentCard","children","Content","commentHeader","size","label","username","substring","toUpperCase","marginRight","color","theme","colors","primary","fileName","_jsxFileName","lineNumber","columnNumber","commentHeaderText","commentUsername","ratingContainer","map","star","icon","margin","marginHorizontal","commentDate","Date","createdAt","toLocaleDateString","commentContent","loadingContainer","container","refreshControl","scrollView","showsVerticalScrollIndicator","bookHeaderContainer","source","uri","coverImageUrl","bookHeaderBackground","blurRadius","gradient","bookHeaderContent","bookCover","bookInfoContainer","bookTitle","bookAuthor","ratingOverview","ratingStars","Math","round","ratingValue","chipContainer","chip","textStyle","chipText","category","pageCount","language","contentContainer","actionButtonContainer","mode","onPress","actionButton","backgroundColor","descriptionCard","sectionTitle","description","marginTop","addCommentCard","addCommentTitle","ratingSelector","ratingLabel","stars","value","onChangeText","multiline","numberOfLines","commentInput","submitCommentButton","data","renderItem","keyExtractor","toString","contentContainerStyle","commentsList","scrollEnabled","emptyCommentsCard","emptyCommentsText","Group","open","actions","onStateChange","fabStyle","visible","onDismiss","keyboardType","sessionInput","Actions","create","flex","paddingBottom","justifyContent","alignItems","padding","flexDirection","borderRadius","paddingLeft","fontSize","fontWeight","marginBottom","marginLeft","flexWrap","paddingVertical","marginVertical","paddingHorizontal","elevation","lineHeight","alignSelf","paddingTop","textAlign"],"sources":["D:/All_Projects/Koach-Reader/client/src/screens/BookDetailScreen.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { \n  StyleSheet, \n  View, \n  Text, \n  ScrollView, \n  TouchableOpacity,\n  RefreshControl,\n  FlatList,\n  Alert,\n  Image,\n  ImageBackground,\n  Dimensions,\n  Share\n} from 'react-native';\nimport { \n  Card, \n  Title, \n  Paragraph, \n  Button, \n  Chip, \n  Divider, \n  TextInput, \n  Avatar, \n  IconButton,\n  Dialog,\n  Portal,\n  FAB,\n  Menu,\n  ProgressBar\n} from 'react-native-paper';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { \n  fetchBookById, \n  selectCurrentBook, \n  selectBooksLoading, \n  fetchBookComments, \n  selectBookComments,\n  addBookComment\n} from '../slices/booksSlice';\nimport { \n  createReadingPlan, \n  selectReadingPlansLoading,\n  logReadingSession\n} from '../slices/readingPlansSlice';\nimport { selectUser } from '../slices/authSlice';\nimport { StackNavigationProp } from '@react-navigation/stack';\nimport { RouteProp } from '@react-navigation/native';\nimport { RootStackParamList } from '../../App';\nimport { AppDispatch } from '../store';\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { useTranslation } from 'react-i18next';\n\nconst { width, height } = Dimensions.get('window');\n\ntype BookDetailScreenNavigationProp = StackNavigationProp<RootStackParamList, 'BookDetail'>;\ntype BookDetailScreenRouteProp = RouteProp<RootStackParamList, 'BookDetail'>;\n\ninterface BookDetailScreenProps {\n  navigation: BookDetailScreenNavigationProp;\n  route: BookDetailScreenRouteProp;\n}\n\nconst BookDetailScreen: React.FC<BookDetailScreenProps> = ({ navigation, route }) => {\n  const { t } = useTranslation();\n  const { bookId } = route.params;\n  const dispatch = useDispatch<AppDispatch>();\n  \n  const book = useSelector(selectCurrentBook);\n  const user = useSelector(selectUser);\n  const comments = useSelector(selectBookComments);\n  const isLoading = useSelector(selectBooksLoading);\n  const isPlansLoading = useSelector(selectReadingPlansLoading);\n  \n  const [refreshing, setRefreshing] = useState(false);\n  const [commentText, setCommentText] = useState('');\n  const [rating, setRating] = useState(5);\n  const [menuVisible, setMenuVisible] = useState(false);\n  \n  // Reading session tracking\n  const [logSessionVisible, setLogSessionVisible] = useState(false);\n  const [pagesRead, setPagesRead] = useState('');\n  const [minutesSpent, setMinutesSpent] = useState('');\n\n  useEffect(() => {\n    if (bookId > 0) {\n      dispatch(fetchBookById(bookId));\n      dispatch(fetchBookComments(bookId));\n    }\n  }, [dispatch, bookId]);\n  \n  const onRefresh = async () => {\n    if (bookId > 0) {\n      setRefreshing(true);\n      await Promise.all([\n        dispatch(fetchBookById(bookId)),\n        dispatch(fetchBookComments(bookId))\n      ]);\n      setRefreshing(false);\n    }\n  };\n  \n  const handleSubmitComment = () => {\n    if (commentText.trim() === '') {\n      Alert.alert(t('common.errorText'), t('book.commentRequired'));\n      return;\n    }\n    \n    dispatch(addBookComment({\n      bookId,\n      content: commentText,\n      rating\n    }));\n    \n    setCommentText('');\n    setRating(5);\n  };\n  \n  const handleCreateReadingPlan = () => {\n    if (!book) return;\n    \n    navigation.navigate('ReadingPlan', { bookId: book.id });\n  };\n  \n  const handleLogSession = () => {\n    if (!book) return;\n    \n    const pagesReadNum = parseInt(pagesRead);\n    const minutesSpentNum = parseInt(minutesSpent);\n    \n    if (isNaN(pagesReadNum) || pagesReadNum <= 0) {\n      Alert.alert(t('common.errorText'), t('readingSession.validPagesRequired'));\n      return;\n    }\n    \n    if (isNaN(minutesSpentNum) || minutesSpentNum <= 0) {\n      Alert.alert(t('common.errorText'), t('readingSession.validTimeRequired'));\n      return;\n    }\n    \n    dispatch(logReadingSession({\n      bookId: book.id,\n      pagesRead: pagesReadNum,\n      minutesSpent: minutesSpentNum\n    }));\n    \n    setLogSessionVisible(false);\n    setPagesRead('');\n    setMinutesSpent('');\n    \n    Alert.alert(\n      t('common.success'),\n      t('readingSession.pointsEarned', { count: pagesReadNum }),\n      [{ text: t('common.great') }]\n    );\n  };\n  \n  // Handlers for the media viewer\n  const handleReadBook = () => {\n    if (!book) return;\n    navigation.navigate('MediaViewer', { bookId: book.id, mediaType: 'pdf' });\n  };\n  \n  const handleListenAudio = () => {\n    if (!book) return;\n    navigation.navigate('MediaViewer', { bookId: book.id, mediaType: 'audio' });\n  };\n  \n  const handleShare = async () => {\n    if (!book) return;\n    \n    try {\n      await Share.share({\n        message: t('book.shareMessage', { title: book.title, author: book.author }),\n        title: book.title,\n      });\n    } catch (error) {\n      Alert.alert(t('common.errorText'), t('book.shareError'));\n    }\n  };\n  \n  // Calculate average rating\n  const averageRating = comments.length > 0\n    ? comments.reduce((acc, comment) => acc + (comment.rating || 0), 0) / comments.length\n    : 0;\n    \n  const formattedRating = averageRating.toFixed(1);\n  \n  const renderComment = ({ item }) => (\n    <Card style={styles.commentCard}>\n      <Card.Content>\n        <View style={styles.commentHeader}>\n          <Avatar.Text \n            size={40} \n            label={item.username.substring(0, 2).toUpperCase()} \n            style={{ marginRight: 12 }}\n            color=\"#FFFFFF\"\n            theme={{ colors: { primary: '#8A2BE2' } }}\n          />\n          <View style={styles.commentHeaderText}>\n            <Text style={styles.commentUsername}>{item.username}</Text>\n            <View style={styles.ratingContainer}>\n              {[1, 2, 3, 4, 5].map(star => (\n                <IconButton\n                  key={star}\n                  icon=\"star\"\n                  size={14}\n                  color={star <= (item.rating || 0) ? '#FFC107' : '#E0E0E0'}\n                  style={{ margin: 0, marginHorizontal: -2 }}\n                />\n              ))}\n            </View>\n          </View>\n          <Text style={styles.commentDate}>\n            {new Date(item.createdAt).toLocaleDateString()}\n          </Text>\n        </View>\n        <Text style={styles.commentContent}>{item.content}</Text>\n      </Card.Content>\n    </Card>\n  );\n  \n  if (!book && bookId > 0) {\n    return (\n      <View style={styles.loadingContainer}>\n        <Text>{t('book.loading')}</Text>\n      </View>\n    );\n  }\n  \n  return (\n    <View style={styles.container}>\n      <ScrollView\n        refreshControl={\n          <RefreshControl\n            refreshing={refreshing}\n            onRefresh={onRefresh}\n          />\n        }\n        style={styles.scrollView}\n        showsVerticalScrollIndicator={false}\n      >\n        {book ? (\n          <>\n            <View style={styles.bookHeaderContainer}>\n              <ImageBackground \n                source={{ uri: book.coverImageUrl || 'https://via.placeholder.com/300x450' }} \n                style={styles.bookHeaderBackground}\n                blurRadius={5}\n              >\n                <LinearGradient\n                  colors={['rgba(0,0,0,0.8)', 'rgba(0,0,0,0.5)', 'rgba(0,0,0,0.8)']}\n                  style={styles.gradient}\n                >\n                  <View style={styles.bookHeaderContent}>\n                    <Image\n                      source={{ uri: book.coverImageUrl || 'https://via.placeholder.com/300x450' }}\n                      style={styles.bookCover}\n                    />\n                    <View style={styles.bookInfoContainer}>\n                      <Text style={styles.bookTitle}>{book.title}</Text>\n                      <Text style={styles.bookAuthor}>{t('common.author')} {book.author}</Text>\n                      \n                      <View style={styles.ratingOverview}>\n                        <View style={styles.ratingStars}>\n                          {[1, 2, 3, 4, 5].map(star => (\n                            <IconButton\n                              key={star}\n                              icon=\"star\"\n                              size={16}\n                              color={star <= Math.round(averageRating) ? '#FFC107' : '#E0E0E0'}\n                              style={{ margin: 0, marginHorizontal: -4 }}\n                            />\n                          ))}\n                        </View>\n                        <Text style={styles.ratingValue}>{formattedRating} / 5.0</Text>\n                      </View>\n                      \n                      <View style={styles.chipContainer}>\n                        <Chip style={styles.chip} textStyle={styles.chipText}>{book.category}</Chip>\n                        <Chip style={styles.chip} textStyle={styles.chipText}>{book.pageCount} {t('book.pages')}</Chip>\n                        <Chip style={styles.chip} textStyle={styles.chipText}>{book.language}</Chip>\n                      </View>\n                    </View>\n                  </View>\n                </LinearGradient>\n              </ImageBackground>\n            </View>\n            \n            <View style={styles.contentContainer}>\n              <View style={styles.actionButtonContainer}>\n                <Button \n                  mode=\"contained\" \n                  onPress={handleReadBook}\n                  style={[styles.actionButton, { backgroundColor: '#8A2BE2' }]}\n                  icon=\"book-open-page-variant\"\n                >\n                  {t('book.read')}\n                </Button>\n                <Button \n                  mode=\"contained\" \n                  onPress={handleListenAudio}\n                  style={[styles.actionButton, { backgroundColor: '#FF6B6B' }]}\n                  icon=\"headphones\"\n                >\n                  {t('book.listen')}\n                </Button>\n                <Button \n                  mode=\"contained\" \n                  onPress={() => setLogSessionVisible(true)}\n                  style={[styles.actionButton, { backgroundColor: '#00CEC9' }]}\n                  icon=\"pen\"\n                >\n                  {t('readingSession.logReading')}\n                </Button>\n              </View>\n            \n              <Card style={styles.descriptionCard}>\n                <Card.Content>\n                  <Title style={styles.sectionTitle}>{t('book.description')}</Title>\n                  <Paragraph style={styles.description}>{book.description}</Paragraph>\n                </Card.Content>\n              </Card>\n              \n              <Title style={[styles.sectionTitle, { marginTop: 16, marginHorizontal: 16 }]}>\n                {t('book.reviewsComments', { count: comments.length })}\n              </Title>\n              \n              <Card style={styles.addCommentCard}>\n                <Card.Content>\n                  <Title style={styles.addCommentTitle}>{t('book.addYourReview')}</Title>\n                  <View style={styles.ratingSelector}>\n                    <Text style={styles.ratingLabel}>{t('book.yourRating')}:</Text>\n                    <View style={styles.stars}>\n                      {[1, 2, 3, 4, 5].map(star => (\n                        <IconButton\n                          key={star}\n                          icon=\"star\"\n                          size={24}\n                          color={star <= rating ? '#FFC107' : '#E0E0E0'}\n                          onPress={() => setRating(star)}\n                        />\n                      ))}\n                    </View>\n                  </View>\n                  \n                  <TextInput\n                    label={t('book.yourComment')}\n                    value={commentText}\n                    onChangeText={setCommentText}\n                    multiline\n                    numberOfLines={3}\n                    style={styles.commentInput}\n                    theme={{ colors: { primary: '#8A2BE2' } }}\n                  />\n                  \n                  <Button \n                    mode=\"contained\" \n                    onPress={handleSubmitComment}\n                    style={styles.submitCommentButton}\n                    icon=\"send\"\n                    color=\"#8A2BE2\"\n                  >\n                    {t('common.submit')}\n                  </Button>\n                </Card.Content>\n              </Card>\n              \n              {comments.length > 0 ? (\n                <FlatList\n                  data={comments}\n                  renderItem={renderComment}\n                  keyExtractor={(item) => item.id.toString()}\n                  contentContainerStyle={styles.commentsList}\n                  scrollEnabled={false}\n                />\n              ) : (\n                <Card style={styles.emptyCommentsCard}>\n                  <Card.Content>\n                    <Text style={styles.emptyCommentsText}>\n                      {t('book.beFirstToComment')}\n                    </Text>\n                  </Card.Content>\n                </Card>\n              )}\n            </View>\n          </>\n        ) : null}\n      </ScrollView>\n      \n      <FAB.Group\n        open={menuVisible}\n        icon={menuVisible ? 'close' : 'dots-vertical'}\n        actions={[\n          {\n            icon: 'share',\n            label: t('book.share'),\n            onPress: handleShare,\n          },\n          {\n            icon: 'notebook',\n            label: t('readingPlan.create'),\n            onPress: handleCreateReadingPlan,\n          },\n        ]}\n        onStateChange={({ open }) => setMenuVisible(open)}\n        color=\"white\"\n        fabStyle={{ backgroundColor: '#8A2BE2' }}\n      />\n      \n      <Portal>\n        <Dialog\n          visible={logSessionVisible}\n          onDismiss={() => setLogSessionVisible(false)}\n        >\n          <Dialog.Title>{t('readingSession.title')}</Dialog.Title>\n          <Dialog.Content>\n            <TextInput\n              label={t('readingSession.pagesRead')}\n              value={pagesRead}\n              onChangeText={setPagesRead}\n              keyboardType=\"numeric\"\n              style={styles.sessionInput}\n              theme={{ colors: { primary: '#8A2BE2' } }}\n            />\n            <TextInput\n              label={t('readingSession.timeSpent')} \n              value={minutesSpent}\n              onChangeText={setMinutesSpent}\n              keyboardType=\"numeric\"\n              style={styles.sessionInput}\n              theme={{ colors: { primary: '#8A2BE2' } }}\n            />\n          </Dialog.Content>\n          <Dialog.Actions>\n            <Button onPress={() => setLogSessionVisible(false)}>{t('common.cancel')}</Button>\n            <Button onPress={handleLogSession}>{t('common.save')}</Button>\n          </Dialog.Actions>\n        </Dialog>\n      </Portal>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#f5f5f7',\n  },\n  scrollView: {\n    flex: 1,\n    paddingBottom: 80, // Space for bottom navigation\n  },\n  loadingContainer: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  bookHeaderContainer: {\n    height: 280,\n    width: '100%',\n  },\n  bookHeaderBackground: {\n    width: '100%',\n    height: '100%',\n  },\n  gradient: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n    padding: 16,\n  },\n  bookHeaderContent: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    width: '100%',\n  },\n  bookCover: {\n    width: 120,\n    height: 180,\n    borderRadius: 8,\n  },\n  bookInfoContainer: {\n    flex: 1,\n    paddingLeft: 16,\n  },\n  bookTitle: {\n    fontSize: 22,\n    fontWeight: 'bold',\n    color: 'white',\n    marginBottom: 4,\n  },\n  bookAuthor: {\n    fontSize: 16,\n    color: 'rgba(255,255,255,0.8)',\n    marginBottom: 8,\n  },\n  ratingOverview: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginBottom: 8,\n  },\n  ratingStars: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  ratingValue: {\n    fontSize: 14,\n    color: 'white',\n    marginLeft: 8,\n  },\n  chipContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    marginTop: 8,\n  },\n  chip: {\n    marginRight: 8,\n    marginBottom: 8,\n    backgroundColor: 'rgba(255,255,255,0.2)',\n  },\n  chipText: {\n    color: 'white',\n  },\n  contentContainer: {\n    flex: 1,\n    paddingVertical: 16,\n  },\n  actionButtonContainer: {\n    flexDirection: 'row',\n    justifyContent: 'space-around',\n    marginVertical: 8,\n    paddingHorizontal: 16,\n  },\n  actionButton: {\n    flex: 1,\n    marginHorizontal: 4,\n  },\n  descriptionCard: {\n    marginHorizontal: 16,\n    marginTop: 16,\n    elevation: 2,\n    borderRadius: 8,\n  },\n  sectionTitle: {\n    fontSize: 18,\n    fontWeight: 'bold',\n    marginBottom: 8,\n  },\n  description: {\n    lineHeight: 22,\n  },\n  addCommentCard: {\n    marginHorizontal: 16,\n    marginTop: 16,\n    elevation: 2,\n    borderRadius: 8,\n  },\n  addCommentTitle: {\n    fontSize: 16,\n    fontWeight: 'bold',\n  },\n  ratingSelector: {\n    flexDirection: 'row',\n    alignItems: 'center',\n    marginVertical: 8,\n  },\n  ratingLabel: {\n    marginRight: 8,\n    fontSize: 14,\n  },\n  stars: {\n    flexDirection: 'row',\n  },\n  commentInput: {\n    marginVertical: 8,\n    backgroundColor: 'white',\n  },\n  submitCommentButton: {\n    marginTop: 8,\n    alignSelf: 'flex-end',\n  },\n  commentsList: {\n    paddingHorizontal: 16,\n    paddingTop: 8,\n    paddingBottom: 24,\n  },\n  commentCard: {\n    marginBottom: 12,\n    elevation: 1,\n    borderRadius: 8,\n  },\n  commentHeader: {\n    flexDirection: 'row',\n    marginBottom: 8,\n  },\n  commentHeaderText: {\n    flex: 1,\n  },\n  commentUsername: {\n    fontWeight: 'bold',\n    fontSize: 14,\n  },\n  ratingContainer: {\n    flexDirection: 'row',\n    alignItems: 'center',\n  },\n  commentDate: {\n    fontSize: 12,\n    color: '#888',\n  },\n  commentContent: {\n    fontSize: 14,\n    lineHeight: 20,\n  },\n  emptyCommentsCard: {\n    marginHorizontal: 16,\n    marginTop: 16,\n    padding: 16,\n    borderRadius: 8,\n  },\n  emptyCommentsText: {\n    textAlign: 'center',\n    fontSize: 14,\n    color: '#666',\n  },\n  sessionInput: {\n    marginVertical: 8,\n    backgroundColor: 'white',\n  },\n});\n\nexport default BookDetailScreen;"],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}