{"ast":null,"code":"import i18n from 'i18next';\nimport { initReactI18next } from 'react-i18next';\nimport AsyncStorage from '@react-native-async-storage/async-storage';\nimport en from '../locales/en.json';\nimport fr from '../locales/fr.json';\nconst LANGUAGE_STORAGE_KEY = '@koach_reader_language';\ni18n.use(initReactI18next).init({\n  resources: {\n    en: {\n      translation: en\n    },\n    fr: {\n      translation: fr\n    }\n  },\n  fallbackLng: 'en',\n  interpolation: {\n    escapeValue: false\n  },\n  react: {\n    useSuspense: false\n  }\n});\nexport const getStoredLanguage = async () => {\n  try {\n    const lang = await AsyncStorage.getItem(LANGUAGE_STORAGE_KEY);\n    return lang || 'en';\n  } catch (error) {\n    console.error('Error getting stored language:', error);\n    return 'en';\n  }\n};\nexport const setLanguage = async language => {\n  try {\n    await AsyncStorage.setItem(LANGUAGE_STORAGE_KEY, language);\n    i18n.changeLanguage(language);\n  } catch (error) {\n    console.error('Error storing language preference:', error);\n  }\n};\ngetStoredLanguage().then(language => {\n  i18n.changeLanguage(language);\n});\nexport default i18n;","map":{"version":3,"names":["i18n","initReactI18next","AsyncStorage","en","fr","LANGUAGE_STORAGE_KEY","use","init","resources","translation","fallbackLng","interpolation","escapeValue","react","useSuspense","getStoredLanguage","lang","getItem","error","console","setLanguage","language","setItem","changeLanguage","then"],"sources":["D:/All_Projects/Koach-Reader/client/src/utils/i18n.ts"],"sourcesContent":["import i18n from 'i18next';\r\nimport { initReactI18next } from 'react-i18next';\r\nimport AsyncStorage from '@react-native-async-storage/async-storage';\r\nimport { I18nManager } from 'react-native';\r\n\r\n// Import translation files\r\nimport en from '../locales/en.json';\r\nimport fr from '../locales/fr.json';\r\n\r\nconst LANGUAGE_STORAGE_KEY = '@koach_reader_language';\r\n\r\n// Initialize i18next\r\ni18n\r\n  .use(initReactI18next)\r\n  .init({\r\n    resources: {\r\n      en: {\r\n        translation: en\r\n      },\r\n      fr: {\r\n        translation: fr\r\n      }\r\n    },\r\n    fallbackLng: 'en',\r\n    interpolation: {\r\n      escapeValue: false\r\n    },\r\n    react: {\r\n      useSuspense: false\r\n    }\r\n  });\r\n\r\n// Function to get stored language preference\r\nexport const getStoredLanguage = async () => {\r\n  try {\r\n    const lang = await AsyncStorage.getItem(LANGUAGE_STORAGE_KEY);\r\n    return lang || 'en'; // Default to English if no language is stored\r\n  } catch (error) {\r\n    console.error('Error getting stored language:', error);\r\n    return 'en';\r\n  }\r\n};\r\n\r\n// Function to set language preference\r\nexport const setLanguage = async (language: string) => {\r\n  try {\r\n    await AsyncStorage.setItem(LANGUAGE_STORAGE_KEY, language);\r\n    i18n.changeLanguage(language);\r\n    // Ne plus recharger l'application, le composant AppWithLanguage s'en charge\r\n  } catch (error) {\r\n    console.error('Error storing language preference:', error);\r\n  }\r\n};\r\n\r\n// Initialize with stored language if available\r\ngetStoredLanguage().then(language => {\r\n  i18n.changeLanguage(language);\r\n});\r\n\r\nexport default i18n; "],"mappings":"AAAA,OAAOA,IAAI,MAAM,SAAS;AAC1B,SAASC,gBAAgB,QAAQ,eAAe;AAChD,OAAOC,YAAY,MAAM,2CAA2C;AAIpE,OAAOC,EAAE,MAAM,oBAAoB;AACnC,OAAOC,EAAE,MAAM,oBAAoB;AAEnC,MAAMC,oBAAoB,GAAG,wBAAwB;AAGrDL,IAAI,CACDM,GAAG,CAACL,gBAAgB,CAAC,CACrBM,IAAI,CAAC;EACJC,SAAS,EAAE;IACTL,EAAE,EAAE;MACFM,WAAW,EAAEN;IACf,CAAC;IACDC,EAAE,EAAE;MACFK,WAAW,EAAEL;IACf;EACF,CAAC;EACDM,WAAW,EAAE,IAAI;EACjBC,aAAa,EAAE;IACbC,WAAW,EAAE;EACf,CAAC;EACDC,KAAK,EAAE;IACLC,WAAW,EAAE;EACf;AACF,CAAC,CAAC;AAGJ,OAAO,MAAMC,iBAAiB,GAAG,MAAAA,CAAA,KAAY;EAC3C,IAAI;IACF,MAAMC,IAAI,GAAG,MAAMd,YAAY,CAACe,OAAO,CAACZ,oBAAoB,CAAC;IAC7D,OAAOW,IAAI,IAAI,IAAI;EACrB,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,gCAAgC,EAAEA,KAAK,CAAC;IACtD,OAAO,IAAI;EACb;AACF,CAAC;AAGD,OAAO,MAAME,WAAW,GAAG,MAAOC,QAAgB,IAAK;EACrD,IAAI;IACF,MAAMnB,YAAY,CAACoB,OAAO,CAACjB,oBAAoB,EAAEgB,QAAQ,CAAC;IAC1DrB,IAAI,CAACuB,cAAc,CAACF,QAAQ,CAAC;EAE/B,CAAC,CAAC,OAAOH,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,oCAAoC,EAAEA,KAAK,CAAC;EAC5D;AACF,CAAC;AAGDH,iBAAiB,CAAC,CAAC,CAACS,IAAI,CAACH,QAAQ,IAAI;EACnCrB,IAAI,CAACuB,cAAc,CAACF,QAAQ,CAAC;AAC/B,CAAC,CAAC;AAEF,eAAerB,IAAI","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}