{"ast":null,"code":"var _jsxFileName = \"D:\\\\All_Projects\\\\Koach-Reader\\\\client\\\\src\\\\screens\\\\OnboardingScreen.tsx\";\nimport React, { useState, useRef } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport Dimensions from \"react-native-web/dist/exports/Dimensions\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport SafeAreaView from \"react-native-web/dist/exports/SafeAreaView\";\nimport Animated from \"react-native-web/dist/exports/Animated\";\nimport Platform from \"react-native-web/dist/exports/Platform\";\nimport Button from \"react-native-paper/lib/module/components/Button/Button\";\nimport Chip from \"react-native-paper/lib/module/components/Chip/Chip\";\nimport ProgressBar from \"react-native-paper/lib/module/components/ProgressBar\";\nimport { Title } from \"react-native-paper/lib/module/components/Typography/v2\";\nimport { Paragraph } from \"react-native-paper/lib/module/components/Typography/v2\";\nimport { LinearGradient } from 'expo-linear-gradient';\nimport { useNavigation } from '@react-navigation/native';\nimport { useAuth } from '../hooks/useAuth';\nimport LanguageSelector from '../components/LanguageSelector';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst {\n  width,\n  height\n} = Dimensions.get('window');\nconst BOOK_CATEGORIES = [{\n  label: 'Bible et √©tudes bibliques',\n  value: 'bible_studies',\n  icon: 'üìñ'\n}, {\n  label: 'Th√©ologie et doctrine chr√©tienne',\n  value: 'theology',\n  icon: '‚úùÔ∏è'\n}, {\n  label: 'Spiritualit√© et vie chr√©tienne',\n  value: 'spirituality',\n  icon: 'üôè'\n}, {\n  label: 'Livres sur J√©sus Christ',\n  value: 'jesus',\n  icon: 'üëë'\n}, {\n  label: '√âvang√©lisation et mission',\n  value: 'evangelism',\n  icon: 'üåç'\n}, {\n  label: 'Mariage famille et relation',\n  value: 'marriage_family',\n  icon: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶'\n}, {\n  label: 'Jeunesse et enfants',\n  value: 'youth',\n  icon: 'üë∂'\n}, {\n  label: 'T√©moignages et biographies chr√©tiennes',\n  value: 'testimonies',\n  icon: 'üìö'\n}, {\n  label: 'Proph√©tie et fin des temps',\n  value: 'prophecy',\n  icon: '‚è≥'\n}, {\n  label: '√âthique chr√©tienne et soci√©t√©',\n  value: 'ethics',\n  icon: '‚öñÔ∏è'\n}, {\n  label: 'Gu√©rison et d√©livrance',\n  value: 'healing',\n  icon: 'üåü'\n}, {\n  label: 'Minist√®re et leadership',\n  value: 'ministry',\n  icon: 'üë•'\n}, {\n  label: 'Louange et adoration',\n  value: 'worship',\n  icon: 'üéµ'\n}, {\n  label: 'Fictions chr√©tiennes',\n  value: 'fiction',\n  icon: 'üìï'\n}, {\n  label: 'Histoire de l\\'√âglise',\n  value: 'church_history',\n  icon: '‚õ™'\n}, {\n  label: 'Livre d\\'encouragement et motivation',\n  value: 'encouragement',\n  icon: 'üí™'\n}];\nconst READING_FREQUENCIES = [{\n  label: 'Daily',\n  value: 'daily',\n  icon: 'üìö'\n}, {\n  label: 'Few times a week',\n  value: 'few_weekly',\n  icon: 'üìñ'\n}, {\n  label: 'Weekly',\n  value: 'weekly',\n  icon: 'üìÖ'\n}, {\n  label: 'Monthly',\n  value: 'monthly',\n  icon: 'üìÜ'\n}, {\n  label: 'Occasionally',\n  value: 'occasionally',\n  icon: 'üîç'\n}];\nconst AGE_GROUPS = [{\n  label: 'Under 18',\n  value: 'under_18',\n  icon: 'üë∂'\n}, {\n  label: '18-24',\n  value: '18-24',\n  icon: 'üßë'\n}, {\n  label: '25-34',\n  value: '25-34',\n  icon: 'üë®'\n}, {\n  label: '35-44',\n  value: '35-44',\n  icon: 'üë©'\n}, {\n  label: '45+',\n  value: '45_plus',\n  icon: 'üë¥'\n}];\nconst DISCOVERY_SOURCES = [{\n  label: 'Friends',\n  value: 'friends',\n  icon: 'üë•'\n}, {\n  label: 'Social Media',\n  value: 'social_media',\n  icon: 'üì±'\n}, {\n  label: 'Bookstores',\n  value: 'bookstores',\n  icon: 'üè™'\n}, {\n  label: 'Online Reviews',\n  value: 'online_reviews',\n  icon: '‚≠ê'\n}, {\n  label: 'Book Clubs',\n  value: 'book_clubs',\n  icon: 'üëã'\n}, {\n  label: 'Recommendations',\n  value: 'recommendations',\n  icon: 'üëç'\n}];\nconst ChipSelectionGroup = ({\n  options,\n  selectedValues,\n  onSelect,\n  multiSelect = true\n}) => {\n  return _jsxDEV(View, {\n    style: styles.chipContainer,\n    children: options.map(option => _jsxDEV(TouchableOpacity, {\n      onPress: () => onSelect(option.value),\n      children: _jsxDEV(Chip, {\n        style: [styles.chip, selectedValues.includes(option.value) && styles.selectedChip],\n        textStyle: [styles.chipText, selectedValues.includes(option.value) && styles.selectedChipText],\n        mode: selectedValues.includes(option.value) ? 'flat' : 'outlined',\n        children: [_jsxDEV(Text, {\n          style: styles.chipIcon,\n          children: option.icon\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 13\n        }, this), \" \", option.label]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 11\n      }, this)\n    }, option.value, false, {\n      fileName: _jsxFileName,\n      lineNumber: 87,\n      columnNumber: 9\n    }, this))\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 85,\n    columnNumber: 5\n  }, this);\n};\nconst OnboardingScreen = () => {\n  const navigation = useNavigation();\n  const {\n    updateOnboardingStatus,\n    forceCompleteOnboarding\n  } = useAuth();\n  const scrollViewRef = useRef(null);\n  const [currentStep, setCurrentStep] = useState(0);\n  const fadeAnim = useRef(new Animated.Value(1)).current;\n  const [readingFrequency, setReadingFrequency] = useState([]);\n  const [ageGroup, setAgeGroup] = useState([]);\n  const [favoriteCategories, setFavoriteCategories] = useState([]);\n  const [discoverySources, setDiscoverySources] = useState([]);\n  const [language, setLanguage] = useState(['en']);\n  const totalSteps = 5;\n  const handleNext = () => {\n    if (currentStep < totalSteps - 1) {\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: 300,\n        useNativeDriver: true\n      }).start(() => {\n        setCurrentStep(currentStep + 1);\n        scrollViewRef.current?.scrollTo({\n          x: width * (currentStep + 1),\n          animated: false\n        });\n        Animated.timing(fadeAnim, {\n          toValue: 1,\n          duration: 300,\n          useNativeDriver: true\n        }).start();\n      });\n    } else {\n      const preferences = {\n        readingFrequency: readingFrequency[0],\n        ageGroup: ageGroup[0],\n        favoriteCategories,\n        discoverySources,\n        language: language[0]\n      };\n      console.log('Saving preferences:', preferences);\n      updateOnboardingStatus(true);\n      forceCompleteOnboarding();\n      navigation.reset({\n        index: 0,\n        routes: [{\n          name: 'Home'\n        }]\n      });\n    }\n  };\n  const handleBack = () => {\n    if (currentStep > 0) {\n      Animated.timing(fadeAnim, {\n        toValue: 0,\n        duration: 300,\n        useNativeDriver: true\n      }).start(() => {\n        setCurrentStep(currentStep - 1);\n        scrollViewRef.current?.scrollTo({\n          x: width * (currentStep - 1),\n          animated: false\n        });\n        Animated.timing(fadeAnim, {\n          toValue: 1,\n          duration: 300,\n          useNativeDriver: true\n        }).start();\n      });\n    }\n  };\n  const handleFrequencySelect = value => {\n    setReadingFrequency([value]);\n  };\n  const handleAgeGroupSelect = value => {\n    setAgeGroup([value]);\n  };\n  const handleCategorySelect = value => {\n    if (favoriteCategories.includes(value)) {\n      setFavoriteCategories(favoriteCategories.filter(category => category !== value));\n    } else {\n      setFavoriteCategories([...favoriteCategories, value]);\n    }\n  };\n  const handleDiscoverySourceSelect = value => {\n    if (discoverySources.includes(value)) {\n      setDiscoverySources(discoverySources.filter(source => source !== value));\n    } else {\n      setDiscoverySources([...discoverySources, value]);\n    }\n  };\n  const handleLanguageSelect = value => {\n    setLanguage([value]);\n  };\n  const getStepValidation = step => {\n    switch (step) {\n      case 0:\n        return readingFrequency.length > 0;\n      case 1:\n        return ageGroup.length > 0;\n      case 2:\n        return favoriteCategories.length > 0;\n      case 3:\n        return discoverySources.length > 0;\n      case 4:\n        return language.length > 0;\n      default:\n        return false;\n    }\n  };\n  const getStepTitle = () => {\n    switch (currentStep) {\n      case 0:\n        return \"How often do you read?\";\n      case 1:\n        return \"Which age group do you belong to?\";\n      case 2:\n        return \"What types of books do you enjoy?\";\n      case 3:\n        return \"How do you discover new books?\";\n      case 4:\n        return \"What's your preferred language?\";\n      default:\n        return \"\";\n    }\n  };\n  const getStepDescription = () => {\n    switch (currentStep) {\n      case 0:\n        return \"Tell us about your reading habits so we can tailor your experience.\";\n      case 1:\n        return \"This helps us recommend age-appropriate content.\";\n      case 2:\n        return \"Select as many categories as you like.\";\n      case 3:\n        return \"Select all that apply to help us enhance your book discovery experience.\";\n      case 4:\n        return \"Select the language you prefer for the app interface.\";\n      default:\n        return \"\";\n    }\n  };\n  const renderContent = () => {\n    switch (currentStep) {\n      case 0:\n        return _jsxDEV(ScrollView, {\n          style: styles.optionsScrollView,\n          children: _jsxDEV(ChipSelectionGroup, {\n            options: READING_FREQUENCIES,\n            selectedValues: readingFrequency,\n            onSelect: handleFrequencySelect,\n            multiSelect: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 258,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 257,\n          columnNumber: 11\n        }, this);\n      case 1:\n        return _jsxDEV(ScrollView, {\n          style: styles.optionsScrollView,\n          children: _jsxDEV(ChipSelectionGroup, {\n            options: AGE_GROUPS,\n            selectedValues: ageGroup,\n            onSelect: handleAgeGroupSelect,\n            multiSelect: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 269,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 268,\n          columnNumber: 11\n        }, this);\n      case 2:\n        return _jsxDEV(ScrollView, {\n          style: styles.optionsScrollView,\n          children: _jsxDEV(ChipSelectionGroup, {\n            options: BOOK_CATEGORIES,\n            selectedValues: favoriteCategories,\n            onSelect: handleCategorySelect\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 279,\n          columnNumber: 11\n        }, this);\n      case 3:\n        return _jsxDEV(ScrollView, {\n          style: styles.optionsScrollView,\n          children: _jsxDEV(ChipSelectionGroup, {\n            options: DISCOVERY_SOURCES,\n            selectedValues: discoverySources,\n            onSelect: handleDiscoverySourceSelect\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 290,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 289,\n          columnNumber: 11\n        }, this);\n      case 4:\n        return _jsxDEV(LanguageSelector, {\n          showTitle: false,\n          onSelect: language => {\n            setLanguage([language]);\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 299,\n          columnNumber: 11\n        }, this);\n      default:\n        return null;\n    }\n  };\n  return _jsxDEV(SafeAreaView, {\n    style: styles.container,\n    children: _jsxDEV(LinearGradient, {\n      colors: ['#8A2BE2', '#4B0082'],\n      style: styles.gradient,\n      children: [_jsxDEV(View, {\n        style: styles.progressContainer,\n        children: [_jsxDEV(Text, {\n          style: styles.stepIndicator,\n          children: [\"Step \", currentStep + 1, \" of \", totalSteps]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 318,\n          columnNumber: 11\n        }, this), _jsxDEV(ProgressBar, {\n          progress: (currentStep + 1) / totalSteps,\n          color: \"#FFF\",\n          style: styles.progressBar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 319,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 317,\n        columnNumber: 9\n      }, this), _jsxDEV(Animated.View, {\n        style: [styles.contentContainer, {\n          opacity: fadeAnim\n        }],\n        children: [_jsxDEV(View, {\n          style: styles.questionContainer,\n          children: [_jsxDEV(Title, {\n            style: styles.questionTitle,\n            children: getStepTitle()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 330,\n            columnNumber: 13\n          }, this), _jsxDEV(Paragraph, {\n            style: styles.questionDescription,\n            children: getStepDescription()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 331,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 329,\n          columnNumber: 11\n        }, this), _jsxDEV(View, {\n          style: styles.selectionContainer,\n          children: renderContent()\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 334,\n          columnNumber: 11\n        }, this), _jsxDEV(View, {\n          style: styles.footer,\n          children: [currentStep > 0 && _jsxDEV(Button, {\n            mode: \"outlined\",\n            onPress: handleBack,\n            style: styles.backButton,\n            labelStyle: styles.backButtonLabel,\n            children: \"Back\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 340,\n            columnNumber: 15\n          }, this), _jsxDEV(Button, {\n            mode: \"contained\",\n            onPress: handleNext,\n            style: styles.nextButton,\n            labelStyle: styles.nextButtonLabel,\n            disabled: !getStepValidation(currentStep),\n            children: currentStep < totalSteps - 1 ? 'Next' : 'Get Started'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 338,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 326,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 313,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 312,\n    columnNumber: 5\n  }, this);\n};\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    backgroundColor: '#FFF'\n  },\n  gradient: {\n    flex: 1,\n    justifyContent: 'space-between'\n  },\n  progressContainer: {\n    paddingHorizontal: 20,\n    paddingTop: 20\n  },\n  stepIndicator: {\n    color: 'rgba(255,255,255,0.8)',\n    marginBottom: 10,\n    fontSize: 16,\n    textAlign: 'center'\n  },\n  progressBar: {\n    height: 6,\n    borderRadius: 3,\n    backgroundColor: 'rgba(255,255,255,0.3)'\n  },\n  contentContainer: {\n    flex: 1,\n    padding: 20,\n    justifyContent: 'space-between'\n  },\n  questionContainer: {\n    marginTop: 40,\n    alignItems: 'center'\n  },\n  questionTitle: {\n    fontSize: 28,\n    fontWeight: 'bold',\n    color: '#FFFFFF',\n    textAlign: 'center',\n    marginBottom: 10\n  },\n  questionDescription: {\n    fontSize: 16,\n    color: 'rgba(255,255,255,0.8)',\n    textAlign: 'center',\n    marginBottom: 40\n  },\n  selectionContainer: {\n    flex: 1,\n    backgroundColor: 'rgba(255,255,255,0.9)',\n    borderRadius: 20,\n    padding: 20,\n    marginBottom: 20\n  },\n  optionsScrollView: {\n    flex: 1\n  },\n  chipContainer: {\n    flexDirection: 'row',\n    flexWrap: 'wrap',\n    justifyContent: 'center'\n  },\n  chip: {\n    margin: 5,\n    paddingVertical: 8,\n    paddingHorizontal: 12,\n    backgroundColor: '#F0F0F0'\n  },\n  selectedChip: {\n    backgroundColor: '#8A2BE2'\n  },\n  chipText: {\n    color: '#333'\n  },\n  selectedChipText: {\n    color: '#FFFFFF'\n  },\n  chipIcon: {\n    marginRight: 5,\n    fontSize: 16\n  },\n  footer: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    marginTop: 20,\n    marginBottom: Platform.OS === 'ios' ? 40 : 20\n  },\n  backButton: {\n    borderColor: '#FFFFFF',\n    borderWidth: 2,\n    borderRadius: 10\n  },\n  backButtonLabel: {\n    color: '#FFFFFF'\n  },\n  nextButton: {\n    flex: 1,\n    marginLeft: 10,\n    backgroundColor: '#FFFFFF',\n    borderRadius: 10\n  },\n  nextButtonLabel: {\n    color: '#8A2BE2',\n    fontWeight: 'bold'\n  }\n});\nexport default OnboardingScreen;","map":{"version":3,"names":["React","useState","useRef","View","Text","StyleSheet","Dimensions","ScrollView","TouchableOpacity","SafeAreaView","Animated","Platform","Button","Chip","ProgressBar","Title","Paragraph","LinearGradient","useNavigation","useAuth","LanguageSelector","jsxDEV","_jsxDEV","width","height","get","BOOK_CATEGORIES","label","value","icon","READING_FREQUENCIES","AGE_GROUPS","DISCOVERY_SOURCES","ChipSelectionGroup","options","selectedValues","onSelect","multiSelect","style","styles","chipContainer","children","map","option","onPress","chip","includes","selectedChip","textStyle","chipText","selectedChipText","mode","chipIcon","fileName","_jsxFileName","lineNumber","columnNumber","OnboardingScreen","navigation","updateOnboardingStatus","forceCompleteOnboarding","scrollViewRef","currentStep","setCurrentStep","fadeAnim","Value","current","readingFrequency","setReadingFrequency","ageGroup","setAgeGroup","favoriteCategories","setFavoriteCategories","discoverySources","setDiscoverySources","language","setLanguage","totalSteps","handleNext","timing","toValue","duration","useNativeDriver","start","scrollTo","x","animated","preferences","console","log","reset","index","routes","name","handleBack","handleFrequencySelect","handleAgeGroupSelect","handleCategorySelect","filter","category","handleDiscoverySourceSelect","source","handleLanguageSelect","getStepValidation","step","length","getStepTitle","getStepDescription","renderContent","optionsScrollView","showTitle","container","colors","gradient","progressContainer","stepIndicator","progress","color","progressBar","contentContainer","opacity","questionContainer","questionTitle","questionDescription","selectionContainer","footer","backButton","labelStyle","backButtonLabel","nextButton","nextButtonLabel","disabled","create","flex","backgroundColor","justifyContent","paddingHorizontal","paddingTop","marginBottom","fontSize","textAlign","borderRadius","padding","marginTop","alignItems","fontWeight","flexDirection","flexWrap","margin","paddingVertical","marginRight","OS","borderColor","borderWidth","marginLeft"],"sources":["D:/All_Projects/Koach-Reader/client/src/screens/OnboardingScreen.tsx"],"sourcesContent":["import React, { useState, useRef } from 'react';\r\nimport {\r\n  View,\r\n  Text,\r\n  StyleSheet,\r\n  Dimensions,\r\n  ScrollView,\r\n  TouchableOpacity,\r\n  Image,\r\n  SafeAreaView,\r\n  Animated,\r\n  Platform,\r\n} from 'react-native';\r\nimport { Button, Chip, ProgressBar, Title, Paragraph, Divider } from 'react-native-paper';\r\nimport { LinearGradient } from 'expo-linear-gradient';\r\nimport { useNavigation } from '@react-navigation/native';\r\nimport { StackNavigationProp } from '@react-navigation/stack';\r\nimport { RootStackParamList } from '../../App';\r\nimport { useAuth } from '../hooks/useAuth';\r\nimport { MaterialCommunityIcons } from '@expo/vector-icons';\r\nimport LanguageSelector, { LANGUAGES } from '../components/LanguageSelector';\r\n\r\nconst { width, height } = Dimensions.get('window');\r\n\r\ntype OnboardingNavigationProp = StackNavigationProp<RootStackParamList, 'Onboarding'>;\r\n\r\n// D√©finition des cat√©gories chr√©tiennes\r\nconst BOOK_CATEGORIES = [\r\n  { label: 'Bible et √©tudes bibliques', value: 'bible_studies', icon: 'üìñ' },\r\n  { label: 'Th√©ologie et doctrine chr√©tienne', value: 'theology', icon: '‚úùÔ∏è' },\r\n  { label: 'Spiritualit√© et vie chr√©tienne', value: 'spirituality', icon: 'üôè' },\r\n  { label: 'Livres sur J√©sus Christ', value: 'jesus', icon: 'üëë' },\r\n  { label: '√âvang√©lisation et mission', value: 'evangelism', icon: 'üåç' },\r\n  { label: 'Mariage famille et relation', value: 'marriage_family', icon: 'üë®‚Äçüë©‚Äçüëß‚Äçüë¶' },\r\n  { label: 'Jeunesse et enfants', value: 'youth', icon: 'üë∂' },\r\n  { label: 'T√©moignages et biographies chr√©tiennes', value: 'testimonies', icon: 'üìö' },\r\n  { label: 'Proph√©tie et fin des temps', value: 'prophecy', icon: '‚è≥' },\r\n  { label: '√âthique chr√©tienne et soci√©t√©', value: 'ethics', icon: '‚öñÔ∏è' },\r\n  { label: 'Gu√©rison et d√©livrance', value: 'healing', icon: 'üåü' },\r\n  { label: 'Minist√®re et leadership', value: 'ministry', icon: 'üë•' },\r\n  { label: 'Louange et adoration', value: 'worship', icon: 'üéµ' },\r\n  { label: 'Fictions chr√©tiennes', value: 'fiction', icon: 'üìï' },\r\n  { label: 'Histoire de l\\'√âglise', value: 'church_history', icon: '‚õ™' },\r\n  { label: 'Livre d\\'encouragement et motivation', value: 'encouragement', icon: 'üí™' },\r\n];\r\n\r\nconst READING_FREQUENCIES = [\r\n  { label: 'Daily', value: 'daily', icon: 'üìö' },\r\n  { label: 'Few times a week', value: 'few_weekly', icon: 'üìñ' },\r\n  { label: 'Weekly', value: 'weekly', icon: 'üìÖ' },\r\n  { label: 'Monthly', value: 'monthly', icon: 'üìÜ' },\r\n  { label: 'Occasionally', value: 'occasionally', icon: 'üîç' },\r\n];\r\n\r\nconst AGE_GROUPS = [\r\n  { label: 'Under 18', value: 'under_18', icon: 'üë∂' },\r\n  { label: '18-24', value: '18-24', icon: 'üßë' },\r\n  { label: '25-34', value: '25-34', icon: 'üë®' },\r\n  { label: '35-44', value: '35-44', icon: 'üë©' },\r\n  { label: '45+', value: '45_plus', icon: 'üë¥' },\r\n];\r\n\r\nconst DISCOVERY_SOURCES = [\r\n  { label: 'Friends', value: 'friends', icon: 'üë•' },\r\n  { label: 'Social Media', value: 'social_media', icon: 'üì±' },\r\n  { label: 'Bookstores', value: 'bookstores', icon: 'üè™' },\r\n  { label: 'Online Reviews', value: 'online_reviews', icon: '‚≠ê' },\r\n  { label: 'Book Clubs', value: 'book_clubs', icon: 'üëã' },\r\n  { label: 'Recommendations', value: 'recommendations', icon: 'üëç' },\r\n];\r\n\r\n// Chip selection component for multiple choice questions\r\nconst ChipSelectionGroup = ({ \r\n  options, \r\n  selectedValues, \r\n  onSelect, \r\n  multiSelect = true \r\n}: { \r\n  options: Array<{ label: string, value: string, icon: string }>, \r\n  selectedValues: string[], \r\n  onSelect: (value: string) => void,\r\n  multiSelect?: boolean\r\n}) => {\r\n  return (\r\n    <View style={styles.chipContainer}>\r\n      {options.map((option) => (\r\n        <TouchableOpacity\r\n          key={option.value}\r\n          onPress={() => onSelect(option.value)}\r\n        >\r\n          <Chip\r\n            style={[\r\n              styles.chip,\r\n              selectedValues.includes(option.value) && styles.selectedChip\r\n            ]}\r\n            textStyle={[\r\n              styles.chipText,\r\n              selectedValues.includes(option.value) && styles.selectedChipText\r\n            ]}\r\n            mode={selectedValues.includes(option.value) ? 'flat' : 'outlined'}\r\n          >\r\n            <Text style={styles.chipIcon}>{option.icon}</Text> {option.label}\r\n          </Chip>\r\n        </TouchableOpacity>\r\n      ))}\r\n    </View>\r\n  );\r\n};\r\n\r\nconst OnboardingScreen = () => {\r\n  const navigation = useNavigation<OnboardingNavigationProp>();\r\n  const { updateOnboardingStatus, forceCompleteOnboarding } = useAuth();\r\n  const scrollViewRef = useRef<ScrollView>(null);\r\n  const [currentStep, setCurrentStep] = useState(0);\r\n  const fadeAnim = useRef(new Animated.Value(1)).current;\r\n\r\n  // State for user preferences\r\n  const [readingFrequency, setReadingFrequency] = useState<string[]>([]);\r\n  const [ageGroup, setAgeGroup] = useState<string[]>([]);\r\n  const [favoriteCategories, setFavoriteCategories] = useState<string[]>([]);\r\n  const [discoverySources, setDiscoverySources] = useState<string[]>([]);\r\n  const [language, setLanguage] = useState<string[]>(['en']); // Default to English\r\n\r\n  const totalSteps = 5; // Ajout d'une √©tape pour les langues\r\n\r\n  const handleNext = () => {\r\n    if (currentStep < totalSteps - 1) {\r\n      // Fade out animation\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 0,\r\n        duration: 300,\r\n        useNativeDriver: true,\r\n      }).start(() => {\r\n        setCurrentStep(currentStep + 1);\r\n        // Scroll to the next step\r\n        scrollViewRef.current?.scrollTo({ x: width * (currentStep + 1), animated: false });\r\n        // Fade in animation\r\n        Animated.timing(fadeAnim, {\r\n          toValue: 1,\r\n          duration: 300,\r\n          useNativeDriver: true,\r\n        }).start();\r\n      });\r\n    } else {\r\n      // Complete onboarding\r\n      const preferences = {\r\n        readingFrequency: readingFrequency[0], // Take first selection for single select\r\n        ageGroup: ageGroup[0], // Take first selection for single select\r\n        favoriteCategories,\r\n        discoverySources,\r\n        language: language[0], // Take first selection for single select\r\n      };\r\n      \r\n      // Save preferences to user profile\r\n      console.log('Saving preferences:', preferences);\r\n      \r\n      // Mark onboarding as completed with both methods for better success rate\r\n      updateOnboardingStatus(true);\r\n      forceCompleteOnboarding();\r\n      \r\n      // Force reset navigation to Home\r\n      navigation.reset({\r\n        index: 0,\r\n        routes: [{ name: 'Home' as keyof RootStackParamList }],\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    if (currentStep > 0) {\r\n      // Fade out animation\r\n      Animated.timing(fadeAnim, {\r\n        toValue: 0,\r\n        duration: 300,\r\n        useNativeDriver: true,\r\n      }).start(() => {\r\n        setCurrentStep(currentStep - 1);\r\n        // Scroll to the previous step\r\n        scrollViewRef.current?.scrollTo({ x: width * (currentStep - 1), animated: false });\r\n        // Fade in animation\r\n        Animated.timing(fadeAnim, {\r\n          toValue: 1,\r\n          duration: 300,\r\n          useNativeDriver: true,\r\n        }).start();\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleFrequencySelect = (value: string) => {\r\n    setReadingFrequency([value]); // Single selection\r\n  };\r\n\r\n  const handleAgeGroupSelect = (value: string) => {\r\n    setAgeGroup([value]); // Single selection\r\n  };\r\n\r\n  const handleCategorySelect = (value: string) => {\r\n    // Toggle selection for multiple choices\r\n    if (favoriteCategories.includes(value)) {\r\n      setFavoriteCategories(favoriteCategories.filter(category => category !== value));\r\n    } else {\r\n      setFavoriteCategories([...favoriteCategories, value]);\r\n    }\r\n  };\r\n\r\n  const handleDiscoverySourceSelect = (value: string) => {\r\n    // Toggle selection for multiple choices\r\n    if (discoverySources.includes(value)) {\r\n      setDiscoverySources(discoverySources.filter(source => source !== value));\r\n    } else {\r\n      setDiscoverySources([...discoverySources, value]);\r\n    }\r\n  };\r\n\r\n  const handleLanguageSelect = (value: string) => {\r\n    setLanguage([value]); // Single selection\r\n  };\r\n\r\n  const getStepValidation = (step: number): boolean => {\r\n    switch (step) {\r\n      case 0: return readingFrequency.length > 0;\r\n      case 1: return ageGroup.length > 0;\r\n      case 2: return favoriteCategories.length > 0;\r\n      case 3: return discoverySources.length > 0;\r\n      case 4: return language.length > 0;\r\n      default: return false;\r\n    }\r\n  };\r\n\r\n  const getStepTitle = () => {\r\n    switch (currentStep) {\r\n      case 0: return \"How often do you read?\";\r\n      case 1: return \"Which age group do you belong to?\";\r\n      case 2: return \"What types of books do you enjoy?\";\r\n      case 3: return \"How do you discover new books?\";\r\n      case 4: return \"What's your preferred language?\";\r\n      default: return \"\";\r\n    }\r\n  };\r\n\r\n  const getStepDescription = () => {\r\n    switch (currentStep) {\r\n      case 0: return \"Tell us about your reading habits so we can tailor your experience.\";\r\n      case 1: return \"This helps us recommend age-appropriate content.\";\r\n      case 2: return \"Select as many categories as you like.\";\r\n      case 3: return \"Select all that apply to help us enhance your book discovery experience.\";\r\n      case 4: return \"Select the language you prefer for the app interface.\";\r\n      default: return \"\";\r\n    }\r\n  };\r\n\r\n  const renderContent = () => {\r\n    switch (currentStep) {\r\n      case 0:\r\n        return (\r\n          <ScrollView style={styles.optionsScrollView}>\r\n            <ChipSelectionGroup\r\n              options={READING_FREQUENCIES}\r\n              selectedValues={readingFrequency}\r\n              onSelect={handleFrequencySelect}\r\n              multiSelect={false}\r\n            />\r\n          </ScrollView>\r\n        );\r\n      case 1:\r\n        return (\r\n          <ScrollView style={styles.optionsScrollView}>\r\n            <ChipSelectionGroup\r\n              options={AGE_GROUPS}\r\n              selectedValues={ageGroup}\r\n              onSelect={handleAgeGroupSelect}\r\n              multiSelect={false}\r\n            />\r\n          </ScrollView>\r\n        );\r\n      case 2:\r\n        return (\r\n          <ScrollView style={styles.optionsScrollView}>\r\n            <ChipSelectionGroup\r\n              options={BOOK_CATEGORIES}\r\n              selectedValues={favoriteCategories}\r\n              onSelect={handleCategorySelect}\r\n            />\r\n          </ScrollView>\r\n        );\r\n      case 3:\r\n        return (\r\n          <ScrollView style={styles.optionsScrollView}>\r\n            <ChipSelectionGroup\r\n              options={DISCOVERY_SOURCES}\r\n              selectedValues={discoverySources}\r\n              onSelect={handleDiscoverySourceSelect}\r\n            />\r\n          </ScrollView>\r\n        );\r\n      case 4:\r\n        return (\r\n          <LanguageSelector \r\n            showTitle={false}\r\n            onSelect={(language: string) => {\r\n              setLanguage([language]);\r\n            }} \r\n          />\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <SafeAreaView style={styles.container}>\r\n      <LinearGradient \r\n        colors={['#8A2BE2', '#4B0082']} \r\n        style={styles.gradient}\r\n      >\r\n        <View style={styles.progressContainer}>\r\n          <Text style={styles.stepIndicator}>Step {currentStep + 1} of {totalSteps}</Text>\r\n          <ProgressBar \r\n            progress={(currentStep + 1) / totalSteps} \r\n            color=\"#FFF\" \r\n            style={styles.progressBar} \r\n          />\r\n        </View>\r\n        \r\n        <Animated.View \r\n          style={[styles.contentContainer, { opacity: fadeAnim }]}\r\n        >\r\n          <View style={styles.questionContainer}>\r\n            <Title style={styles.questionTitle}>{getStepTitle()}</Title>\r\n            <Paragraph style={styles.questionDescription}>{getStepDescription()}</Paragraph>\r\n          </View>\r\n          \r\n          <View style={styles.selectionContainer}>\r\n            {renderContent()}\r\n          </View>\r\n          \r\n          <View style={styles.footer}>\r\n            {currentStep > 0 && (\r\n              <Button \r\n                mode=\"outlined\" \r\n                onPress={handleBack} \r\n                style={styles.backButton}\r\n                labelStyle={styles.backButtonLabel}\r\n              >\r\n                Back\r\n              </Button>\r\n            )}\r\n            <Button \r\n              mode=\"contained\" \r\n              onPress={handleNext} \r\n              style={styles.nextButton}\r\n              labelStyle={styles.nextButtonLabel}\r\n              disabled={!getStepValidation(currentStep)}\r\n            >\r\n              {currentStep < totalSteps - 1 ? 'Next' : 'Get Started'}\r\n            </Button>\r\n          </View>\r\n        </Animated.View>\r\n      </LinearGradient>\r\n    </SafeAreaView>\r\n  );\r\n};\r\n\r\nconst styles = StyleSheet.create({\r\n  container: {\r\n    flex: 1,\r\n    backgroundColor: '#FFF',\r\n  },\r\n  gradient: {\r\n    flex: 1,\r\n    justifyContent: 'space-between',\r\n  },\r\n  progressContainer: {\r\n    paddingHorizontal: 20,\r\n    paddingTop: 20,\r\n  },\r\n  stepIndicator: {\r\n    color: 'rgba(255,255,255,0.8)',\r\n    marginBottom: 10,\r\n    fontSize: 16,\r\n    textAlign: 'center',\r\n  },\r\n  progressBar: {\r\n    height: 6,\r\n    borderRadius: 3,\r\n    backgroundColor: 'rgba(255,255,255,0.3)',\r\n  },\r\n  contentContainer: {\r\n    flex: 1,\r\n    padding: 20,\r\n    justifyContent: 'space-between',\r\n  },\r\n  questionContainer: {\r\n    marginTop: 40,\r\n    alignItems: 'center',\r\n  },\r\n  questionTitle: {\r\n    fontSize: 28,\r\n    fontWeight: 'bold',\r\n    color: '#FFFFFF',\r\n    textAlign: 'center',\r\n    marginBottom: 10,\r\n  },\r\n  questionDescription: {\r\n    fontSize: 16,\r\n    color: 'rgba(255,255,255,0.8)',\r\n    textAlign: 'center',\r\n    marginBottom: 40,\r\n  },\r\n  selectionContainer: {\r\n    flex: 1,\r\n    backgroundColor: 'rgba(255,255,255,0.9)',\r\n    borderRadius: 20,\r\n    padding: 20,\r\n    marginBottom: 20,\r\n  },\r\n  optionsScrollView: {\r\n    flex: 1,\r\n  },\r\n  chipContainer: {\r\n    flexDirection: 'row',\r\n    flexWrap: 'wrap',\r\n    justifyContent: 'center',\r\n  },\r\n  chip: {\r\n    margin: 5,\r\n    paddingVertical: 8,\r\n    paddingHorizontal: 12,\r\n    backgroundColor: '#F0F0F0',\r\n  },\r\n  selectedChip: {\r\n    backgroundColor: '#8A2BE2',\r\n  },\r\n  chipText: {\r\n    color: '#333',\r\n  },\r\n  selectedChipText: {\r\n    color: '#FFFFFF',\r\n  },\r\n  chipIcon: {\r\n    marginRight: 5,\r\n    fontSize: 16,\r\n  },\r\n  footer: {\r\n    flexDirection: 'row',\r\n    justifyContent: 'space-between',\r\n    marginTop: 20,\r\n    marginBottom: Platform.OS === 'ios' ? 40 : 20,\r\n  },\r\n  backButton: {\r\n    borderColor: '#FFFFFF',\r\n    borderWidth: 2,\r\n    borderRadius: 10,\r\n  },\r\n  backButtonLabel: {\r\n    color: '#FFFFFF',\r\n  },\r\n  nextButton: {\r\n    flex: 1,\r\n    marginLeft: 10,\r\n    backgroundColor: '#FFFFFF',\r\n    borderRadius: 10,\r\n  },\r\n  nextButtonLabel: {\r\n    color: '#8A2BE2',\r\n    fontWeight: 'bold',\r\n  },\r\n});\r\n\r\nexport default OnboardingScreen; "],"mappings":"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","ignoreList":[]},"metadata":{"hasCjsExports":false},"sourceType":"module","externalDependencies":[]}